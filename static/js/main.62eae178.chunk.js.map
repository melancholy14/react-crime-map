{"version":3,"sources":["components/header.jsx","containers/SearchPage/actions.js","utils/constants.js","containers/MapPage/actions.js","containers/SearchPage/selectors.js","components/modal.jsx","components/table.jsx","components/loading.jsx","components/message.jsx","components/select.jsx","components/button.jsx","components/checkbox.jsx","components/tabs.jsx","containers/SearchPage/field.jsx","containers/SearchPage/gridItem.jsx","containers/SearchPage/form.jsx","containers/SearchPage/index.jsx","containers/AnalysePage/actions.js","containers/MapPage/selectors.js","containers/MapPage/index.jsx","containers/AnalysePage/selectors.js","containers/AnalysePage/news.jsx","containers/AnalysePage/graphs.jsx","containers/AnalysePage/neighbourhood.jsx","containers/AnalysePage/index.jsx","containers/AppPage/index.jsx","containers/ErrorPage/notfound.jsx","containers/SearchPage/reducer.js","containers/MapPage/reducer.js","containers/AnalysePage/reducer.js","containers/reducers.js","utils/request.js","containers/SearchPage/saga.js","containers/AnalysePage/saga.js","containers/sagas.js","serviceWorker.js","index.js"],"names":["HeaderDiv","styled","header","_templateObject","Title","div","_templateObject2","Email","_templateObject3","Header","React","memo","react_default","a","createElement","className","href","LOAD_AVAILABILITY_SUCCESS","LOAD_AVAILABILITY_FAILURE","LOAD_CRIME_CATEGORY_REQUEST","LOAD_CRIME_CATEGORY_SUCCESS","LOAD_CRIME_CATEGORY_FAILURE","SEARCH_REQUEST","SEARCH_SUCCESS","SEARCH_FAILURE","loadAvailabilitySuccess","availability","date","reduce","acc","ele","min","max","dates","Object","toConsumableArray","concat","value","type","data","searchSuccess","searchFailure","message","allCrime","categoryColors","all-crime","anti-social-behaviour","bicycle-theft","burglary","criminal-damage-arson","drugs","other-theft","possession-of-weapons","public-order","robbery","shoplifting","theft-from-the-person","vehicle-crime","violent-crime","other-crime","SAVE_LOCATION","INITIAL_CRIME_CIRCLES","FILTER_CRIME_CIRCLES","getOpacity","ratio","getRadius","saveLocation","initialCrimeCircles","crimes","crimeWithCount","category","_ele$location","location","latitude","longitude","_ele$location$street","street","id","objectSpread","defineProperty","count","fillColor","latlng","parseFloat","values","Math","apply","map","opacity","radius","getSearch","state","search","getCategoriesState","createSelector","form","_form$search","_form$search$values","fields","minDate","maxDate","postcode","objectWithoutProperties","active","checkboxes","cat","checked","t","every","v","url","undefined","getSearchState","loading","getMetaState","ModalDiv","modal_templateObject","props","show","ModalTitle","modal_templateObject2","modal_templateObject3","X","button","_templateObject4","ModalMain","_templateObject5","fixed","ModalFooter","_templateObject6","Close","_templateObject7","Modal","_ref","title","onClose","_ref$fixedBottom","fixedBottom","children","modal_Title","onClick","defaultProps","TableDiv","table_templateObject","TrDiv","table_templateObject2","ThDiv","table_templateObject3","TdDiv","table_templateObject4","Th","Td","_ref2","Tr","_ref3","Table","_ref4","LoadingDiv","loading_templateObject","Loading","react_spinners","color","MessageDiv","message_templateObject","Message","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggleModal","setState","prevProps","modal","PureComponent","select","select_templateObject","DefaultButton","button_templateObject","Button","assign","name","onChange","StyledTabs","tabs_templateObject","StyledTabsTitle","tabs_templateObject2","StyledTabsTitleButton","tabs_templateObject3","StyledTab","tabs_templateObject4","TabsTitle","activeKey","onSelect","text","index","key","TabsBody","_ref2$titles","titles","child","Tabs","renderChildren","_this$props","_this$props$onSelect","Children","cloneElement","err","console","error","Component","Body","StyledField","Field","field_templateObject","CustomField","Text","component","Select","options","val","_ref2$text","Checkbox","Div","gridItem_templateObject","GridItem","reduxForm","onCheckCategory","handleSubmit","Form","onSubmit","gridItem","field","htmlFor","style","backgroundColor","components_button","SearchStyle","aside","SearchPage_templateObject","Search","checkCategory","debounce","categories","onFilterCrimeCategory","push","_this$props2","_this$props2$search$d","onSearch","_this$props3","_this$props3$meta","meta","_this$props3$search$d","react","fallback","SearchPage_form","components_loading","components_message","onSelectCrimeCategory","connect","dispatch","param","originMinDate","originMaxDate","_dates","defaultDateValue","sort","b","localeCompare","searchRequest","selected","arguments","length","filterCrimeCircles","LOAD_GRAPHS_REQUEST","LOAD_GRAPHS_SUCCESS","LOAD_GRAPHS_FAILURE","LOAD_NEWS_REQUEST","LOAD_NEWS_SUCCESS","LOAD_NEWS_FAILURE","LOAD_NEIGHBOURHOOD_REQUEST","LOAD_NEIGHBOURHOOD_SUCCESS","LOAD_NEIGHBOURHOOD_FAILURE","SAVE_STREET_DATA","TOGGLE_SHOW","loadNeighbourhoodSuccess","init","team","events","priorities","saveStreetData","toggleShow","getMapState","MapStyle","main","MapPage_templateObject","LeafletMap","handleClick","evt","onSaveLocation","handleLocationFound","handleCircle","onLoadGraphRequest","onLoadNewsRequest","onLoadNeigbourhoodRequest","onToggleAnalyseModal","leafletElement","locate","_this2","circles","_this$props2$latlng","propsLatlng","lat","lng","Map","center","ref","zoom","onLocationfound","TileLayer","attribution","Marker","position","Popup","_ref2$opacity","Circle","fillOpacity","stroke","loadNewsRequest","loadNeighbourhoodRequest","getAnalyseState","analyse","NewsStyle","news_templateObject","News","news","sectionName","pillarName","webTitle","webUrl","webPublicationDate","table_Table","table_Tr","table_Th","table_Td","format","target","StyledGraph","graphs_templateObject","Graphs","_props$graph","graph","outcome","width","window","innerWidth","LineChart","height","XAxis","dataKey","YAxis","yAxisId","Tooltip","CartesianGrid","strokeDasharray","Line","BarChart","Bar","legendType","fill","neighbourhood_templateObject","Italic","neighbourhood_templateObject2","Team","neighbourhood_templateObject3","Neighbourhood","_ref$data","_init$contact_details","contact_details","email","facebook","twitter","description","links","locations","force","url_force","neighbourhood_Div","Parser","address","tname","bio","start","start_date","end","end_date","desc","_ref5","issue","action","AnalysePage","onToggleShow","_this$props2$street","neighbourhood","tabs","graphs","AnalysePage_news","AnalysePage_neighbourhood","App","Fragment","SearchPage","MapPage","containers_AnalysePage","NotFoundDiv","notfound_templateObject","NotFound","_ref$location","pathname","initialState","combineReducers","update","$set","filter","includes","$merge","formReducer","api","police","guardian","mapquest","keys","checkStatus","_callee","response","body","regenerator_default","wrap","_context","prev","next","status","abrupt","Error","json","sent","statusText","t0","stop","parseJSON","request","path","axios","get","then","loadAvailability","loadCrimeCategory","saga","put","log","_marked","_date","_args2","_context2","Date","toLocaleDateString","_marked2","_ref2$data","obj","_ref4$data","results","_results$0$locations","_locations$0$latLng","_lat","_lng","responses","_args3","_context3","city","postalCode","adminArea1","JSON","stringify","latLng","all","_marked3","_context4","fork","takeLatest","_marked4","loadGraph","loadNews","loadNeighbourhood","selectedCrimes","_selectedCrimes$reduc","selectedDate","selectedCategory","selectedOutcome","_ref2$location","_ref2$location$street","month","outcomeStatus","outcome_status","_ele$outcomes","outcomes","d","entries","slicedToArray","_ref6","saga_marked","_ref7","addressUrl","_ref8","_ref8$data","_ref8$data$results","_address$0$locations","_locations$","adminArea5","query","newsUrl","_ref9","_ref9$data","_ref9$data$response$r","join","saga_marked2","_ref10","_ref11","_ref11$data","neighbourhoodUrl","_ref12","_ref13","people","saga_marked3","saga_marked4","sagas","searchSaga","analyseSaga","sagas_marked","Boolean","hostname","match","createSagaMiddleware","store","createStore","reducers","composeWithDevTools","applyMiddleware","run","AppDiv","src_templateObject","ReactDOM","render","es","BrowserRouter","Switch","Route","exact","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.62eae178.chunk.js","sourcesContent":["// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst HeaderDiv = styled.header`\n    order: 0;\n    background: darkslateblue;\n    color: yellow;\n    line-height: 2rem;\n    height: 2.5rem;\n    vertical-align: middle;\n    padding: 0;\n    margin: 0;\n    text-align: center;\n    position: relative;\n    display: flex;\n\n    @media screen and (min-width: 768px) {\n      height: 4rem;\n      display: initial;\n    }\n`;\n\nconst Title = styled.div`\n  width: calc(100% - 11rem);\n  text-align: center;\n  font-size: larger;\n  font-weight: bolder;\n\n  @media screen and (min-width: 768px) {\n    width: initial;\n  }\n`;\n\nconst Email = styled.div`\n  width: 10rem;\n  text-align: right;\n  padding: 0 1rem 0 0;\n  font-size: small;\n\n  @media screen and (min-width: 768px) {\n    width: initial;\n    padding: 0 1rem;\n  }\n\n  a {\n    color: inherit;\n    text-decoration: none;\n  }\n`;\n\nconst Header = React.memo(() => (\n  <HeaderDiv>\n    <Title>\n      CRIME MAP\n    </Title>\n    <Email>\n      <span className=\"smaller\">\n        <a href=\"mailto:melancholy8914@gmail.com\">melancholy8914@gmail.com</a>\n      </span>\n    </Email>\n  </HeaderDiv>));\n\nexport default Header;\n","// @flow\n\nexport const LOAD_AVAILABILITY_SUCCESS = 'containers/SearchPage/actions/LOAD_AVAILABILITY_SUCCESS';\nexport const LOAD_AVAILABILITY_FAILURE = 'containers/SearchPage/actions/LOAD_AVAILABILITY_FAILURE';\n\nexport const LOAD_CRIME_CATEGORY_REQUEST = 'containers/SearchPage/actions/LOAD_CRIME_CATEGORY_REQUEST';\nexport const LOAD_CRIME_CATEGORY_SUCCESS = 'containers/SearchPage/actions/LOAD_CRIME_CATEGORY_SUCCESS';\nexport const LOAD_CRIME_CATEGORY_FAILURE = 'containers/SearchPage/actions/LOAD_CRIME_CATEGORY_FAILURE';\n\nexport const SEARCH_REQUEST = 'containers/SearchPage/actions/SEARCH_REQUEST';\nexport const SEARCH_SUCCESS = 'containers/SearchPage/actions/SEARCH_SUCCESS';\nexport const SEARCH_FAILURE = 'containers/SearchPage/actions/SEARCH_FAILURE';\n\nexport function loadAvailabilitySuccess(availability: Array<Object>) {\n  const date = availability.reduce((acc, ele) => ({\n    min: (acc.min && acc.min < ele.date) ? acc.min : ele.date,\n    max: (acc.max && acc.max > ele.date) ? acc.max : ele.date,\n    dates: acc.dates ? [...acc.dates, { value: ele.date }] : [{ value: ele.date }],\n  }), {\n    min: '',\n    max: '',\n    dates: [],\n  });\n\n  return {\n    type: LOAD_AVAILABILITY_SUCCESS,\n    data: {\n      availability,\n      date,\n    },\n  };\n}\n\nexport function loadAvailabilityFailure(message: string) {\n  return {\n    type: LOAD_AVAILABILITY_FAILURE,\n    message,\n  };\n}\n\nexport function loadCrimeCategorySuccess(data: Array<Object>) {\n  return {\n    type: LOAD_CRIME_CATEGORY_SUCCESS,\n    data,\n  };\n}\n\nexport function loadCrimeCategoryFailure(message: string) {\n  return {\n    type: LOAD_CRIME_CATEGORY_FAILURE,\n    message,\n  };\n}\n\nexport function searchRequest({\n  minDate: originMinDate,\n  maxDate: originMaxDate,\n  dates: _dates,\n  postcode,\n}: {\n  minDate: string,\n  maxDate: string,\n  dates: Array<{ value: string }>,\n  postcode: string,\n}) {\n  const defaultDateValue = _dates[0].value;\n  const minDate = originMinDate || defaultDateValue;\n  const maxDate = originMaxDate || defaultDateValue;\n\n  const dates: Array<string> = _dates.reduce((acc, ele: { value: string }) => {\n    if (minDate <= ele.value && ele.value <= maxDate) {\n      return [...acc, ele.value];\n    }\n    return acc;\n  }, []).sort((a, b) => a.localeCompare(b));\n\n  const data = {\n    dates,\n    postcode,\n  };\n\n  return {\n    type: SEARCH_REQUEST,\n    data,\n  };\n}\n\nexport function searchSuccess(data: Array<Object>) {\n  return {\n    type: SEARCH_SUCCESS,\n    data,\n  };\n}\n\nexport function searchFailure(message: string) {\n  return {\n    type: SEARCH_FAILURE,\n    message,\n  };\n}\n","export const outcomes = [\n  { code: 'awaiting-court-result', name: 'Awaiting court outcome' },\n  { code: 'court-result-unavailable', name: 'Court result unavailable' },\n  { code: 'unable-to-proceed', name: 'Court case unable to proceed' },\n  { code: 'local-resolution', name: 'Local resolution' },\n  { code: 'no-further-action', name: 'Investigation complete; no suspect identified' },\n  { code: 'deprived-of-property', name: 'Offender deprived of property' },\n  { code: 'fined', name: 'Offender fined' },\n  { code: 'absolute-discharge', name: 'Offender given absolute discharge' },\n  { code: 'cautioned', name: 'Offender given a caution' },\n  { code: 'drugs-possession-warning', name: 'Offender given a drugs possession warning' },\n  { code: 'penalty-notice-issued', name: 'Offender given a penalty notice' },\n  { code: 'community-penalty', name: 'Offender given community sentence' },\n  { code: 'conditional-discharge', name: 'Offender given conditional discharge' },\n  { code: 'suspended-sentence', name: 'Offender given suspended prison sentence' },\n  { code: 'imprisoned', name: 'Offender sent to prison' },\n  { code: 'other-court-disposal', name: 'Offender otherwise dealt with' },\n  { code: 'compensation', name: 'Offender ordered to pay compensation' },\n  { code: 'sentenced-in-another-case', name: 'Suspect charged as part of another case' },\n  { code: 'charged', name: 'Suspect charged' },\n  { code: 'not-guilty', name: 'Defendant found not guilty' },\n  { code: 'sent-to-crown-court', name: 'Defendant sent to Crown Court' },\n  { code: 'unable-to-prosecute', name: 'Unable to prosecute suspect' },\n  { code: 'formal-action-not-in-public-interest', name: 'Formal action is not in the public interest' },\n  { code: 'action-taken-by-another-organisation', name: 'Action to be taken by another organisation' },\n  { code: 'further-investigation-not-in-public-interest', name: 'Further investigation is not in the public interest' },\n  { code: 'under-investigation', name: 'Under investigation' },\n  { code: 'status-update-unavailable', name: 'Status update unavailable' },\n];\n\nexport const allCrime = {\n  url: 'all-crime',\n  name: 'All crime',\n};\n\nexport const categoryColors = {\n  'all-crime': '#d17f68',\n  'anti-social-behaviour': '#73b638',\n  'bicycle-theft': '#a45dcf',\n  burglary: '#5fbc6e',\n  'criminal-damage-arson': '#c0489a',\n  drugs: '#4b7d3c',\n  'other-theft': '#666dc6',\n  'possession-of-weapons': '#d99938',\n  'public-order': '#5e99d2',\n  robbery: '#cc4f32',\n  shoplifting: '#49b9a9',\n  'theft-from-the-person': '#c7496a',\n  'vehicle-crime': '#adac4d',\n  'violent-crime': '#c581bb',\n  'other-crime': '#8b6c2f',\n};\n","// @flow\n\nimport {\n  categoryColors,\n} from '../../utils/constants';\n\nimport type {\n  Location,\n} from '../../utils/types';\n\nexport const SAVE_LOCATION = 'containers/MapPage/actions/SAVE_LOCATION';\n\nexport const INITIAL_CRIME_CIRCLES = 'containers/MapPage/actions/INITIAL_CRIME_CIRCLES';\n\nexport const FILTER_CRIME_CIRCLES = 'containers/MapPage/actions/FILTER_CRIME_CIRCLES';\n\nconst minOpacity = 0.75;\nconst maxOpacity = 1;\nconst minRadius = 25;\nconst maxRadius = 250;\n\nconst getOpacity = ratio => ratio * (maxOpacity - minOpacity) + minOpacity;\nconst getRadius = ratio => ratio * (maxRadius - minRadius) + minRadius;\n\nexport function saveLocation(data: Location) {\n  return {\n    type: SAVE_LOCATION,\n    data,\n  };\n}\n\nexport function initialCrimeCircles(crimes: Array<Object>) {\n  const crimeWithCount: Object = crimes.reduce((acc, ele) => {\n    const {\n      category,\n      location: {\n        latitude,\n        longitude,\n        street = {},\n      } = {},\n    } = ele;\n\n    if (!acc[street.id]) {\n      return {\n        ...acc,\n        [street.id]: {\n          category,\n          fillColor: categoryColors[category],\n          street,\n          count: 1,\n          latlng: [parseFloat(latitude), parseFloat(longitude)],\n        },\n      };\n    }\n    return {\n      ...acc,\n      [street.id]: {\n        ...acc[street.id],\n        count: acc[street.id].count + 1,\n      },\n    };\n  }, {});\n\n  const values: Array<Object> = (Object.values(crimeWithCount): any);\n\n  const max = Math.max(...values.map(ele => ele.count));\n\n  const data: Array<Object> = values.map((ele: Object) => ({\n    ...ele,\n    opacity: getOpacity(ele.count / max),\n    radius: getRadius(ele.count / max),\n  }));\n\n  return {\n    type: INITIAL_CRIME_CIRCLES,\n    data,\n  };\n}\n\nexport function filterCrimeCircles(data: Array<string> = []) {\n  return {\n    type: FILTER_CRIME_CIRCLES,\n    data,\n  };\n}\n","// @flow\n\nimport { createSelector } from 'reselect';\n\nimport {\n  allCrime,\n} from '../../utils/constants';\n\nconst getSearch = state => state.search;\nconst getForm = state => state.form;\n\nexport const getCategoriesState = createSelector(\n  [getForm, getSearch],\n  (form, search) => {\n    const {\n      search: {\n        values: {\n          minDate,\n          maxDate,\n          postcode,\n          ...fields\n        } = {},\n        active,\n      } = {},\n    } = form;\n\n    const {\n      category,\n    } = search;\n\n    let checkboxes = [];\n    if (active) {\n      if (active === allCrime.url) {\n        checkboxes = category.map(cat => ({\n          ...cat,\n          checked: fields[active],\n        }));\n      } else {\n        const t = Object.values(fields).every(v => v);\n        checkboxes = category.map(cat => ({\n          ...cat,\n          checked: cat.url === allCrime.url ? t\n            : (fields[cat.url] === undefined || !!fields[cat.url]),\n        }));\n      }\n    } else {\n      checkboxes = category.map(cat => ({\n        ...cat,\n        checked: (fields[cat.url] === undefined || !!fields[cat.url]),\n      }));\n    }\n\n    return checkboxes;\n  },\n);\n\nexport const getSearchState = createSelector(\n  [getSearch],\n  (search) => {\n    const {\n      loading,\n      message,\n      ...state\n    } = search;\n\n    return state;\n  },\n);\n\nexport const getMetaState = createSelector(\n  [getSearch],\n  (search) => {\n    const {\n      loading,\n      message,\n    } = search;\n\n    return {\n      loading,\n      message,\n    };\n  },\n);\n","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst ModalDiv = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 1;\n  display: ${props => (props.show ? 'block' : 'none')};\n`;\n\nconst ModalTitle = styled.div`\n  position: fixed;\n  right: 0;\n  left: 0;\n  top: 4.5rem;\n  height: 3rem;\n  background-color: black;\n  color: white;\n  vertical-align: middle;\n  line-height: 3rem;\n  text-align: center;\n\n  @media screen and (min-width: 426px) {\n    top: 7rem;\n  }\n\n  @media screen and (min-width: 769px) {\n    right: 10%;\n    left: 10%;\n  }\n\n  .close {\n  }\n`;\n\nconst Title = styled.div`\n  display: inline-block;\n  width: calc(100% - 2rem);\n`;\n\nconst X = styled.button`\n  display: inline-block;\n  width: 2rem;\n  font-size: large;\n  font-weight: bold;    \n  border: 0;\n  background-color: black;\n  color: white;\n`;\n\nconst ModalMain = styled.div`\n  position: fixed;\n  background: white;\n  min-height: 10rem;\n  // height: calc(50% - 6rem);\n  overflow: auto;\n  top: 7.5rem;\n  left: 0;\n  right: 0;\n  bottom: ${props => (props.fixed ? '6.5rem' : 'initial')};\n  \n  @media screen and (min-width: 426px) {\n    top: 10rem;\n    bottom: ${props => (props.fixed ? '10em' : 'initial')}\n  }\n\n  @media screen and (min-width: 769px) {\n    right: 10%;\n    left: 10%;\n  }\n`;\n\nconst ModalFooter = styled.div`\n  position: fixed;\n  background-color: white;\n  padding: 0.5rem;\n  right: 0;\n  left: 0;\n  text-align: right;\n\n  bottom: 4rem;\n  border-top: 1px dotted black;\n\n  @media screen and (min-width: 426px) {\n    bottom: 6.5rem;\n    padding: 1rem;\n  }\n\n  @media screen and (min-width: 769px) {\n    right: 10%;\n    left: 10%;\n  }\n`;\n\nconst Close = styled.button`\n  border: none;\n  font-size: large;\n  background: transparent;\n`;\n\nconst Modal = React.memo(({\n  title, show, onClose, fixedBottom = false, children,\n}: {\n  title?: string,\n  show: boolean,\n  onClose?: Function,\n  fixedBottom?: boolean,\n  children: any,\n}) => (\n  <ModalDiv show={show}>\n    { title && (\n    <ModalTitle>\n      <Title>{ title }</Title>\n      { onClose && !fixedBottom && <X type=\"button\" onClick={onClose}>X</X> }\n    </ModalTitle>) }\n    <ModalMain fixed={fixedBottom}>\n      { children }\n    </ModalMain>\n    {\n      onClose && fixedBottom && (\n      <ModalFooter>\n        { onClose && <Close type=\"button\" onClick={onClose}>Close</Close> }\n      </ModalFooter>)\n    }\n  </ModalDiv>\n));\n\nModal.defaultProps = {\n  title: null,\n  onClose: null,\n  fixedBottom: false,\n};\n\nexport default Modal;\n","// @flow\n\nimport React from 'react';\nimport type { ChildrenArray, Element } from 'react';\n\nimport styled from 'styled-components';\n\nconst TableDiv = styled.div`\n  margin: 0.5rem auto;\n  display: table;\n\n  box-shadow: 1.5px 2px 1px 1px;\n  border-radius: 0.5rem;\n  width: -webkit-fill-available;\n  padding: 0.5rem;\n`;\n\nconst TrDiv = styled.div`\n  display: table-row;\n`;\n\nconst ThDiv = styled.div`\n  display: table-cell;\n  font-weight: 600;\n  width: 4rem;\n`;\n\nconst TdDiv = styled.div`\n  display: table-cell;\n`;\n\nconst Th = ({ children }: { children: any }) => <ThDiv>{children}</ThDiv>;\n\nconst Td = ({ children }: { children: any }) => <TdDiv>{children}</TdDiv>;\n\nconst Tr = ({\n  children,\n}: {\n  children: ChildrenArray<Element<typeof Th | typeof Td>>\n}) => <TrDiv>{children}</TrDiv>;\n\nconst Table = ({\n  children,\n}: {\n  children: ChildrenArray<Element<typeof Tr>>\n}) => <TableDiv>{children}</TableDiv>;\n\nexport {\n  Table, Tr, Th, Td,\n};\n","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport { PulseLoader } from 'react-spinners';\n\nconst LoadingDiv = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 1;\n  display: ${props => (props.loading ? 'block' : 'none')}\n\n  & > div {\n    // margin: 15rem auto;\n    position: absolute;\n    top: 47.5%;\n    left: 47.5%;\n  }\n`;\n\nconst Loading = React.memo(({ loading }: { loading: boolean }) => (\n  <LoadingDiv loading={loading}>\n    <PulseLoader\n      color=\"#fff\"\n      loading={loading}\n    />\n  </LoadingDiv>\n));\n\nexport default Loading;\n","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport Modal from './modal';\n\nconst MessageDiv = styled.div`\n  margin: 1rem;\n  padding: 1rem 0.5rem;\n`;\n\ntype Props = {\n  message: string,\n};\n\nclass Message extends React.PureComponent<Props, {\n  show: boolean,\n}> {\n  constructor() {\n    super();\n\n    this.state = {\n      show: false,\n    };\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const {\n      message,\n    } = this.props;\n\n    if (prevProps.message !== message) {\n      this.toggleModal();\n    }\n  }\n\n  toggleModal = () => {\n    const {\n      show,\n    } = this.state;\n\n    this.setState({ show: !show });\n  }\n\n  render() {\n    const {\n      message,\n    } = this.props;\n\n    const {\n      show,\n    } = this.state;\n\n    return (\n      <Modal\n        title=\"Something goes wrong\"\n        show={show}\n        onClose={this.toggleModal}\n      >\n        <MessageDiv>\n          {message}\n        </MessageDiv>\n      </Modal>);\n  }\n}\n\nexport default Message;\n","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst StyledSelect = styled.select`\n  border: 1px solid lightgray;\n  border-radius: 0.5rem;\n  height: 1.5rem;\n  min-width: 5rem;\n  background-color: white;\n  font-family: inherit;\n`;\n\nconst Select = ({\n  id, name, value, options, onChange, className, ...props\n}: {\n  id: string | number,\n  name: string,\n  value: string | number,\n  className: string,\n  options: Array<{ value: any, text?: string }>,\n  onChange: Function,\n}) => (\n  <StyledSelect\n    id={id}\n    name={name}\n    onChange={onChange}\n    value={value}\n    className={className}\n    {...props}\n  >\n    {\n    options && options.map(\n      ({ value: val, text = val }) => (<option key={val} value={val}>{text}</option>),\n    )}\n  </StyledSelect>\n);\n\nexport default Select;\n","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst DefaultButton = styled.button`\n  background-color: black;\n  color: white;\n  font-weight: bolder;\n  padding: 0.3rem 1rem;\n  border: 0;\n  border-radius: 0.5rem;\n  min-height: 1.5rem;\n  font-family: inherit;\n`;\n\nconst Button = React.memo(({\n  onClick, className, children, ...props\n}: { onClick: Function, className: string, children: any }) => (\n  <DefaultButton onClick={onClick} className={className} {...props}>\n    { children }\n  </DefaultButton>\n));\n\nexport default Button;\n","// @flow\n\nimport React from 'react';\n\nconst Checkbox = React.memo(({\n  id, name, checked, onChange, ...props\n}: {\n  id: string | number,\n  name: string,\n  checked: boolean,\n  onChange: Function,\n}) => (\n  <input\n    type=\"checkbox\"\n    name={name}\n    id={id}\n    onChange={onChange}\n    checked={checked}\n    {...props}\n  />\n));\n\nexport default Checkbox;\n","// @flow\n\nimport React, { memo } from 'react';\nimport styled from 'styled-components';\n\nconst StyledTabs = styled.div`\n  position: relative;\n  height: 100%;\n`;\n\nconst StyledTabsTitle = styled.div`\n  overflow: hidden;\n  background-color: #f1f1f1;\n  border: 1px solid #ccc;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst StyledTabsTitleButton = styled.button`\n  background-color: ${props => (props.active ? '#ccc' : 'inherit')};\n  // float: left;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  padding: 14px 16px;\n  transition: 0.3s;\n  font-size: medium;\n\n  &:hover {\n    background-color: #ddd;\n  }\n`;\n\nconst StyledTab = styled.div`\n  display: ${props => (props.active ? 'block' : 'none')};\n  width: 100%;\n  box-sizing: border-box;\n  border: 1px solid #ccc;\n  border-top: none;\n\n  position: absolute;\n  top: 3rem;\n  bottom: 0;\n  overflow: auto;\n\n  animation: fadeEffect 1s;\n  @keyframes fadeEffect {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n`;\n\nconst TabsTitle = memo(({\n  data,\n  activeKey,\n  onSelect,\n}: {\n  data: Array<string>,\n  activeKey: number,\n  onSelect: Function,\n}) => (\n  <StyledTabsTitle>\n    { data && data.map((text, index) => (\n      <StyledTabsTitleButton\n        key={text}\n        active={activeKey === index}\n        onClick={onSelect(index)}\n      >\n        {text}\n      </StyledTabsTitleButton>\n    ))}\n  </StyledTabsTitle>));\n\nconst TabsBody = memo(({\n  activeKey,\n  titles = [],\n  children,\n}: {\n  activeKey: number,\n  titles: Array<string>,\n  children: any,\n}) => (children && children.map((child, index) => (\n  <StyledTab\n    key={titles[index]}\n    id={index}\n    active={activeKey === index}\n  >\n    { child }\n  </StyledTab>))\n));\n\nclass Tabs extends React.Component<{\n  onSelect?: Function,\n  children?: any,\n}, {\n  id: number,\n}> {\n  static Title = TabsTitle;\n\n  static Body = TabsBody;\n\n  titles = [];\n\n  constructor() {\n    super();\n\n    this.state = {\n      id: 0,\n    };\n  }\n\n  select = (id: number) => () => {\n    this.setState({ id });\n  }\n\n  renderChildren = () => {\n    try {\n      const {\n        onSelect = this.select,\n        children,\n      } = this.props;\n\n      const {\n        id,\n      } = this.state;\n\n      return React.Children.map(children, (child) => {\n        if (child) {\n          if (child.type === TabsBody) {\n            return React.cloneElement(child, {\n              activeKey: id,\n              titles: this.titles,\n            });\n          }\n          if (child.type === TabsTitle) {\n            this.titles = child.props.data;\n\n            return React.cloneElement(child, {\n              activeKey: id,\n              onSelect,\n            });\n          }\n        }\n        return <div />;\n      });\n    } catch (err) {\n      console.error(err);\n      return <div />;\n    }\n  }\n\n  render() {\n    return (\n      <StyledTabs>\n        { this.renderChildren() }\n      </StyledTabs>\n    );\n  }\n}\n\nexport default Tabs;\n","// @flow\n\nimport React from 'react';\nimport { Field } from 'redux-form';\nimport styled from 'styled-components';\n\nconst StyledField = styled(Field)`\n  border: 1px solid lightgray;\n  border-radius: 0.5rem;\n  height: 1.5rem;\n  min-width: 5rem;\n  font-family: inherit;\n`;\n\nconst Text = (props: Object) => (\n  <StyledField\n    component=\"input\"\n    type=\"text\"\n    {...props}\n  />);\n\nconst Select = ({ options, ...props }: {\n  options: Array<{ value: any, text?: string }>,\n}) => (\n  <StyledField\n    component=\"select\"\n    {...props}\n  >\n    {options && options.map(\n      ({ value: val, text = val }) => <option key={val} value={val}>{text}</option>,\n    )}\n  </StyledField>\n);\n\nconst Checkbox = (props: Object) => (\n  <Field\n    component=\"input\"\n    type=\"checkbox\"\n    {...props}\n  />\n);\n\nconst CustomField = {\n  Text,\n  Select,\n  Checkbox,\n};\n\nexport default CustomField;\n","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst Div = styled.div`\n  padding: 0.5rem;\n  display: inline-block;\n  min-width: 4.5rem;\n\n  & > label {\n    font-size: smaller;\n    text-transform: capitalize;\n    font-weight: bold;\n  }\n\n  &.select {\n    padding: 0.25rem 0.5rem;\n\n    @media screen and (min-width: 425px) {\n      min-width: 15rem;\n    }\n  }\n\n  &.crimes, &.buttons {\n    width: calc(100% - 1rem);\n  }\n\n  &.crimes {\n    height: 5.5rem\n    overflow: auto;\n\n    @media screen and (min-width: 768px) {\n      height: initial;\n    }\n\n    .each-crime {\n      display: inline-block;\n\n      min-width: 50%;\n      @media screen and (min-width: 768px) {\n        min-width: calc(100% / 3);\n      }\n      @media screen and (min-width: 1024px) {\n        min-width: 25%;\n      }\n\n      font-size: small;\n      line-height: 1rem;\n      vertical-align: middle;\n\n      label {\n        font-size: smaller;\n        font-weight: bolder;\n      }\n\n      .color {\n        width: 0.75rem;\n        height: 0.75rem;\n        display: inline-block;\n        border-radius: 0.5rem;\n        margin: 0 0.3rem;\n      }\n    }\n  }\n\n  &.buttons {\n    button {\n      width: 100%;\n    }\n  }\n`;\n\nconst GridItem = ({ id, className, children }: {\n  id?: string | number | null,\n  className?: string,\n  children: any,\n}) => (\n  <Div id={id} className={className}>\n    { children }\n  </Div>\n);\n\nGridItem.defaultProps = {\n  id: null,\n  className: '',\n};\n\nexport default GridItem;\n","// @flow\nimport React from 'react';\nimport { Form, reduxForm } from 'redux-form';\n\nimport {\n  categoryColors,\n  allCrime,\n} from '../../utils/constants';\n\nimport {\n  Button,\n} from '../../components';\n\nimport Field from './field';\nimport GridItem from './gridItem';\n\nconst SearchForm = ({\n  dates,\n  category,\n  onCheckCategory,\n  handleSubmit,\n}: {\n  dates: Array<Object>,\n  category: Array<{ url: string, name: string, checked: boolean }>,\n  onCheckCategory: Function,\n  handleSubmit: Function,\n}) => (\n  <Form onSubmit={handleSubmit}>\n    <GridItem>\n      date\n    </GridItem>\n    <GridItem className=\"select\" id=\"select_date\">\n      <Field.Select\n        name=\"minDate\"\n        options={dates}\n      />\n      <span> ~ </span>\n      <Field.Select\n        name=\"maxDate\"\n        options={dates}\n      />\n    </GridItem>\n    <GridItem>\n      postcode\n    </GridItem>\n    <GridItem className=\"select\">\n      <Field.Text\n        name=\"postcode\"\n        id=\"postcode\"\n      />\n    </GridItem>\n    <GridItem className=\"crimes\">\n      {\n        category && category.map(({ url, checked, name }) => (\n          <div className=\"each-crime\" key={url}>\n            <label htmlFor={`checkbox_${url}`}>\n              <Field.Checkbox\n                name={url}\n                id={`checkbox_${url}`}\n                onChange={onCheckCategory}\n                checked={checked}\n              />\n              {name}\n              { url !== allCrime.url && <span className=\"color\" style={{ backgroundColor: categoryColors[url] }} /> }\n            </label>\n          </div>))\n      }\n    </GridItem>\n    <GridItem className=\"buttons\">\n      <Button type=\"submit\">SEARCH</Button>\n    </GridItem>\n  </Form>\n);\n\nexport default reduxForm({\n  form: 'search',\n})(SearchForm);\n","// @flow\n\nimport React, { Suspense } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { debounce } from 'lodash';\n\nimport {\n  searchRequest,\n} from './actions';\n\nimport {\n  filterCrimeCircles,\n} from '../MapPage/actions';\n\nimport type {\n  SearchPageProps as Props,\n  SearchPageState as State,\n} from '../../utils/types';\n\nimport {\n  getSearchState,\n  getMetaState,\n  getCategoriesState,\n} from './selectors';\n\nimport {\n  Loading,\n  Message,\n} from '../../components';\n\nimport SearchForm from './form';\n\nconst SearchStyle = styled.aside`\n  order: 1;\n  margin: 0.25rem;\n\n  @media screen and (min-width: 768px) {\n    margin: 0.5rem;\n    padding: 0.5rem;\n  }\n`;\n\nclass Search extends React.PureComponent<Props, State> {\n  static defaultProps = {\n    search: {\n      availability: [],\n      category: [],\n    },\n    meta: {\n      message: null,\n      loading: false,\n    },\n    onSelectCrimeCategory: () => {},\n    onFilterCrimeCategory: () => {},\n    onSearch: () => {},\n  };\n\n  checkCategory = debounce(() => {\n    const {\n      categories,\n      onFilterCrimeCategory,\n    } = this.props;\n\n    const selected = categories.reduce((acc, ele) => {\n      if (ele.checked) {\n        acc.push(ele.url);\n      }\n      return acc;\n    }, []);\n\n    onFilterCrimeCategory(selected);\n  }, 250);\n\n  search = (value) => {\n    const {\n      search: {\n        date: {\n          dates,\n        } = {},\n      },\n      onSearch,\n    } = this.props;\n\n    const params = {\n      ...value,\n      dates,\n    };\n\n    onSearch(params);\n  }\n\n  render() {\n    const {\n      meta: {\n        message,\n        loading,\n      },\n      search: {\n        date: {\n          dates,\n        } = {},\n      },\n      categories,\n    } = this.props;\n\n    return (\n      <Suspense fallback={<div>Loading...</div>}>\n        <SearchStyle>\n          <SearchForm\n            dates={dates}\n            category={categories}\n            onCheckCategory={this.checkCategory}\n            onSubmit={this.search}\n          />\n          <Loading loading={loading} />\n          <Message\n            message={message}\n          />\n        </SearchStyle>\n      </Suspense>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  search: getSearchState(state),\n  meta: getMetaState(state),\n  categories: getCategoriesState(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSearch: param => dispatch(searchRequest(param)),\n  onFilterCrimeCategory: selected => dispatch(filterCrimeCircles(selected)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\n","// @flow\n\nexport const LOAD_GRAPHS_REQUEST = 'containers/AnalysePage/LOAD_GRAPHS_REQUEST';\nexport const LOAD_GRAPHS_SUCCESS = 'containers/AnalysePage/LOAD_GRAPHS_SUCCESS';\nexport const LOAD_GRAPHS_FAILURE = 'containers/AnalysePage/LOAD_GRAPHS_FAILURE';\n\nexport const LOAD_NEWS_REQUEST = 'containers/AnalysePage/LOAD_NEWS_REQUEST';\nexport const LOAD_NEWS_SUCCESS = 'containers/AnalysePage/LOAD_NEWS_SUCCESS';\nexport const LOAD_NEWS_FAILURE = 'containers/AnalysePage/LOAD_NEWS_FAILURE';\n\nexport const LOAD_NEIGHBOURHOOD_REQUEST = 'containers/AnalysePage/LOAD_NEIGHBOURHOOD_REQUEST';\nexport const LOAD_NEIGHBOURHOOD_SUCCESS = 'containers/AnalysePage/LOAD_NEIGHBOURHOOD_SUCCESS';\nexport const LOAD_NEIGHBOURHOOD_FAILURE = 'containers/AnalysePage/LOAD_NEIGHBOURHOOD_FAILURE';\n\nexport const SAVE_STREET_DATA = 'containers/AnalysePage/SAVE_STREET_DATA';\n\nexport const TOGGLE_SHOW = 'containers/AnalysePage/TOGGLE_SHOW';\n\nexport function loadGraphsRequest(street: { id: number, name: string }) {\n  return {\n    type: LOAD_GRAPHS_REQUEST,\n    street,\n  };\n}\n\nexport function loadGraphsSuccess(\n  data: {\n    date: Array<Object>,\n    category: Array<Object>,\n    outcome: Array<Object>,\n  },\n) {\n  return {\n    type: LOAD_GRAPHS_SUCCESS,\n    data,\n  };\n}\n\nexport function loadGraphsFailure(message: string) {\n  return {\n    type: LOAD_GRAPHS_FAILURE,\n    message,\n  };\n}\n\nexport function loadNewsRequest(latlng: { lat: number, lng: number }) {\n  return {\n    type: LOAD_NEWS_REQUEST,\n    latlng,\n  };\n}\n\nexport function loadNewsSuccess(news: Array<Object>) {\n  return {\n    type: LOAD_NEWS_SUCCESS,\n    data: news,\n  };\n}\n\nexport function loadNewsFailure(message: string) {\n  return {\n    type: LOAD_NEWS_FAILURE,\n    message,\n  };\n}\n\nexport function loadNeighbourhoodRequest(latlng: { lat: number, lng: number }) {\n  return {\n    type: LOAD_NEIGHBOURHOOD_REQUEST,\n    latlng,\n  };\n}\n\n// export function loadNeighbourhoodSuccess(\n//   data: Object,\n//   people: Object,\n//   event: Object,\n//   priority: Object,\n// ) {\n//   const neighbour = {\n//     init: {},\n//     team: {},\n//     events: {},\n//     priorities: {},\n//   };\n\n//   if (data) {\n//     const {\n//       centre: {\n//         latitude,\n//         longitude,\n//       } = {},\n//       contact_details: {\n//         twitter,\n//         website,\n//       } = {},\n//       name,\n//       url_force: urlForce,\n//     } = data;\n\n//     const init = {\n//       nodes: [{\n//         id: 'name',\n//         label: name,\n//       }, {\n//         id: 'centre',\n//         label: `${latitude}, ${longitude}`,\n//       }, {\n//         id: 'twitter',\n//         label: twitter,\n//       }, {\n//         id: 'website',\n//         label: website,\n//       }, {\n//         id: 'url_force',\n//         label: urlForce,\n//       }],\n//       links: [{\n//         source: 'name',\n//         target: 'centre',\n//       }, {\n//         source: 'name',\n//         target: 'twitter',\n//       }, {\n//         source: 'name',\n//         target: 'website',\n//       }, {\n//         source: 'name',\n//         target: 'url_force',\n//       }],\n//     };\n\n//     neighbour.init = init;\n//   }\n\n//   if (people && people.length > 0) {\n//     const team = people.reduce((acc, p) => {\n//       const {\n//         name: _name,\n//         rank,\n//         contact_details: {\n//           email,\n//           telephone,\n//           mobile,\n//           twitter,\n//         } = {},\n//       } = p;\n\n//       const name = _name.replace(' ', '_');\n\n//       return {\n//         nodes: [...acc.nodes, {\n//           id: `${name}_name`,\n//           label: _name,\n//         }, {\n//           id: `${name}_rank`,\n//           label: rank,\n//         }, {\n//           id: `${name}_twitter`,\n//           label: twitter,\n//         }, {\n//           id: `${name}_email`,\n//           label: email,\n//         }, {\n//           id: `${name}_telephone`,\n//           label: telephone,\n//         }, {\n//           id: `${name}_mobile`,\n//           label: mobile,\n//         }],\n//         links: [...acc.links, {\n//           source: `${name}_name`,\n//           target: `${name}_rank`,\n//         }, {\n//           source: `${name}_name`,\n//           target: `${name}_twitter`,\n//         }, {\n//           source: `${name}_name`,\n//           target: `${name}_email`,\n//         }, {\n//           source: `${name}_name`,\n//           target: `${name}_telephone`,\n//         }, {\n//           source: `${name}_name`,\n//           target: `${name}_mobile`,\n//         }, {\n//           source: 'team',\n//           target: `${name}_name`,\n//         }],\n//       };\n//     }, {\n//       nodes: [{\n//         id: 'team',\n//         label: 'TEAM',\n//       }],\n//       links: [{\n//         source: 'name',\n//         target: 'team',\n//       }],\n//     });\n\n//     neighbour.team = team;\n//   }\n\n//   if (event && event.length > 0) {\n//     const events = event.reduce((acc, e) => {\n//       const {\n//         contact_details: {\n//           email,\n//           web,\n//           twitter,\n//         } = {},\n//         description,\n//         title,\n//         address,\n//         type,\n//         start_date: startDate,\n//         end_date: endDate,\n//       } = e;\n\n//       return {\n//         nodes: [...acc.nodes, {\n//           id: `${title}_name`,\n//           label: title,\n//         }, {\n//           id: `${title}_description`,\n//           label: description,\n//         }, {\n//           id: `${title}_twitter`,\n//           label: twitter,\n//         }, {\n//           id: `${title}_email`,\n//           label: email,\n//         }, {\n//           id: `${title}_web`,\n//           label: web,\n//         }, {\n//           id: `${title}_address`,\n//           label: address,\n//         }, {\n//           id: `${title}_type`,\n//           label: type,\n//         }, {\n//           id: `${title}_date`,\n//           label: `${startDate} ~ ${endDate}`,\n//         }],\n//         links: [...acc.links, {\n//           source: `${title}_name`,\n//           target: `${title}_description`,\n//         }, {\n//           source: `${title}_name`,\n//           target: `${title}_twitter`,\n//         }, {\n//           source: `${title}_name`,\n//           target: `${title}_email`,\n//         }, {\n//           source: `${title}_name`,\n//           target: `${title}_web`,\n//         }, {\n//           source: `${title}_name`,\n//           target: `${title}_address`,\n//         }, {\n//           source: `${title}_name`,\n//           target: `${title}_type`,\n//         }, {\n//           source: `${title}_name`,\n//           target: `${title}_date`,\n//         }],\n//       };\n//     }, {\n//       nodes: [],\n//       links: [],\n//     });\n\n//     neighbour.events = events;\n//   }\n\n//   if (priority && priority.length > 0) {\n//     const priorities = priority.reduce((acc, pr) => {\n//       const {\n//         issue,\n//         issue_date: issueDate,\n//         action,\n//         action_date: actionDate,\n//       } = pr;\n\n//       return {\n//         nodes: [...acc.nodes, {\n//           id: `${issue}_name`,\n//           label: issue,\n//         }, {\n//           id: `${issue}_issue_date`,\n//           label: issueDate,\n//         }, {\n//           id: `${issue}_action`,\n//           label: action,\n//         }, {\n//           id: `${issue}_action_date`,\n//           label: actionDate,\n//         }],\n//         links: [...acc.links, {\n//           source: `${issue}_name`,\n//           target: `${issue}_issue_date`,\n//         }, {\n//           source: `${issue}_name`,\n//           target: `${issue}_action`,\n//         }, {\n//           source: `${issue}_name`,\n//           target: `${issue}_action_date`,\n//         }],\n//       };\n//     }, {\n//       nodes: [],\n//       links: [],\n//     });\n\n//     neighbour.priorities = priorities;\n//   }\n\n//   return {\n//     type: LOAD_NEIGHBOURHOOD_SUCCESS,\n//     data: neighbour,\n//   };\n// }\n\nexport function loadNeighbourhoodSuccess(\n  init: Object,\n  team: Object,\n  events: Object,\n  priorities: Object,\n) {\n  return {\n    type: LOAD_NEIGHBOURHOOD_SUCCESS,\n    data: {\n      init,\n      team,\n      events,\n      priorities,\n    },\n  };\n}\n\nexport function loadNeighbourhoodFailure(message: string) {\n  return {\n    type: LOAD_NEIGHBOURHOOD_FAILURE,\n    message,\n  };\n}\n\nexport function saveStreetData(street: Object) {\n  return {\n    type: SAVE_STREET_DATA,\n    data: street,\n  };\n}\n\nexport function toggleShow(show: boolean) {\n  return {\n    type: TOGGLE_SHOW,\n    data: show,\n  };\n}\n","// @flow\n\nimport { createSelector } from 'reselect';\n\nconst getMap = state => state.map;\n\nconst getMapState = createSelector(\n  [getMap],\n  map => map,\n);\n\nexport default getMapState;\n","// @flow\n\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport styled from 'styled-components';\n\nimport {\n  Map, TileLayer,\n  Marker, Popup,\n  Circle,\n} from 'react-leaflet';\n\nimport {\n  loadGraphsRequest,\n  loadNewsRequest,\n  loadNeighbourhoodRequest,\n  toggleShow,\n} from '../AnalysePage/actions';\n\nimport type {\n  MapPageProps as Props,\n} from '../../utils/types';\n\nimport {\n  saveLocation,\n} from './actions';\n\nimport getMapState from './selectors';\n\nconst attribution = '&amp;copy <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors';\nconst url = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n\nconst MapStyle = styled.main`\n  order: 2;\n  height: 32.5rem;\n  z-index: 0;\n\n  .leaflet-container {\n    height: 100%;\n    margin: 0.5rem;\n    border-radius: 1.5rem;\n  }\n`;\n\nclass LeafletMap extends React.PureComponent<Props> {\n  map = null;\n\n  componentDidMount() {\n    if (this.map && this.map.leafletElement) {\n      this.map.leafletElement.locate();\n    }\n  }\n\n  handleClick = (evt) => {\n    const {\n      onSaveLocation,\n    } = this.props;\n\n    onSaveLocation(evt.latlng);\n  }\n\n  handleLocationFound = (evt) => {\n    const {\n      onSaveLocation,\n    } = this.props;\n\n    onSaveLocation(evt.latlng);\n  }\n\n  handleCircle = (street, latlng) => () => {\n    const {\n      onLoadGraphRequest,\n      onLoadNewsRequest,\n      onLoadNeigbourhoodRequest,\n      onToggleAnalyseModal,\n    } = this.props;\n\n    onLoadGraphRequest(street);\n    onLoadNewsRequest(latlng);\n    onLoadNeigbourhoodRequest(latlng);\n    onToggleAnalyseModal(true);\n  }\n\n  render() {\n    const {\n      circles,\n      latlng: propsLatlng = {},\n    } = this.props;\n\n    const {\n      lat,\n      lng,\n    } = propsLatlng || {};\n\n    // const {\n    //   latlng: stateLatlng = {},\n    // } = this.state;\n\n    return (\n      <MapStyle className=\"map\">\n        <Map\n          center={propsLatlng}\n          ref={(val) => { this.map = val; }}\n          zoom={13}\n          onClick={this.handleClick}\n          onLocationfound={this.handleLocationFound}\n        >\n          <TileLayer\n            attribution={attribution}\n            url={url}\n          />\n          { propsLatlng && (\n          <Marker position={[lat, lng]}>\n            <Popup>\n              {`You clicked here!!\n              Latitude: ${lat}\n              Longitude: ${lng}`}\n            </Popup>\n          </Marker>) }\n          {\n            circles && circles.map(({\n              latlng, street, radius, count, opacity = 0.5, fillColor,\n            }) => (\n              <Circle\n                fillColor={fillColor}\n                fillOpacity={opacity}\n                stroke={false}\n                radius={radius}\n                center={latlng}\n                key={latlng}\n                onClick={this.handleCircle(street, latlng)}\n              >\n                <Popup>\n                  {`Street Id: ${street.id}\n                  Street Name: ${street.name}\n                  Crime Count: ${count}`}\n                </Popup>\n              </Circle>))}\n        </Map>\n      </MapStyle>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...getMapState(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSaveLocation: latlng => dispatch(saveLocation(latlng)),\n  onLoadGraphRequest: id => dispatch(loadGraphsRequest(id)),\n  onLoadNewsRequest: latlng => dispatch(loadNewsRequest(latlng)),\n  onLoadNeigbourhoodRequest: latlng => dispatch(loadNeighbourhoodRequest(latlng)),\n  onToggleAnalyseModal: show => dispatch(toggleShow(show)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LeafletMap);\n","// @flow\n\nimport { createSelector } from 'reselect';\n\nconst getAnalyse = state => state.analyse;\n\nconst getAnalyseState = createSelector(\n  [getAnalyse],\n  analyse => analyse,\n);\n\nexport default getAnalyseState;\n","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport format from 'date-fns/format';\n\nimport {\n  Table, Tr, Th, Td,\n} from '../../components';\n\nimport type {\n  NewsProps as Props,\n} from '../../utils/types';\n\nconst NewsStyle = styled.div`\n  & > div {\n    width: 95%;\n    margin: auto;\n\n    @media screen and (min-width: 768px) {\n      display: inline-table;\n      width: 45%;\n      margin: 0.5rem;\n    }\n\n    & > div {\n      line-height: 2rem;\n  \n      & > div {\n        padding: 0 0.5rem;\n        font-size: smaller;\n      }\n    }\n  }\n`;\n\nconst News = React.memo(({ news }: Props) => (\n  <NewsStyle>\n    {\n      news && news.map(({\n        id, sectionName, pillarName, webTitle, webUrl, webPublicationDate,\n      }) => (\n        <Table key={id}>\n          <Tr>\n            <Th>Date</Th>\n            <Td>{ format(webPublicationDate, 'Do MMM YYYY HH:mm') }</Td>\n          </Tr>\n          <Tr>\n            <Th>Section</Th>\n            <Td>{ sectionName }</Td>\n          </Tr>\n          <Tr>\n            <Th>Pillar</Th>\n            <Td>{ pillarName }</Td>\n          </Tr>\n          <Tr>\n            <Th>Title</Th>\n            <Td><a href={webUrl} target=\"_new\">{ webTitle }</a></Td>\n          </Tr>\n        </Table>\n      ))\n    }\n  </NewsStyle>\n));\n\nexport default News;\n","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport {\n  LineChart, Line,\n  BarChart, Bar,\n  // ScatterChart, Scatter,\n  XAxis, YAxis,\n  Tooltip,\n  CartesianGrid,\n} from 'recharts';\n\nimport type {\n  GraphProps as Props,\n} from '../../utils/types';\n\nconst StyledGraph = styled.div`\n  display: inline-block;\n  padding: 0 0.5rem;\n`;\n\nconst Graphs = (props: Props) => {\n  const {\n    graph: {\n      date,\n      category,\n      outcome,\n    } = {},\n  } = props;\n\n  let width = window.innerWidth;\n  if (width >= 768) {\n    width = (width * 0.75) / 2;\n  }\n  width -= 35;\n\n  return (\n    <div>\n      { date && (\n      <StyledGraph>\n        <p>Number of crimes by date</p>\n        <LineChart\n          width={width}\n          height={width}\n          data={date}\n        >\n          <XAxis dataKey=\"date\" />\n          <YAxis type=\"number\" yAxisId={0} />\n          <Tooltip />\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <Line type=\"basis\" dataKey=\"count\" stroke=\"#ff7300\" yAxisId={0} />\n        </LineChart>\n      </StyledGraph>\n      )}\n      { category && (\n        <StyledGraph>\n          <p>Number of crimes by category</p>\n          <BarChart\n            width={width}\n            height={width}\n            data={category}\n          >\n            <XAxis dataKey=\"category\" />\n            <YAxis type=\"number\" yAxisId={0} />\n            <Tooltip />\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <Bar legendType=\"line\" dataKey=\"count\" fill=\"#387908\" yAxisId={0} />\n          </BarChart>\n        </StyledGraph>\n      )}\n      { outcome && (\n        <StyledGraph>\n          <p>Number of crimes by outcome</p>\n          <BarChart\n            width={width}\n            height={width}\n            data={outcome}\n          >\n            <XAxis dataKey=\"outcome\" />\n            <YAxis type=\"number\" yAxisId={0} />\n            <Tooltip />\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <Bar legendType=\"circle\" dataKey=\"count\" fill=\"#38abc8\" yAxisId={0} />\n          </BarChart>\n        </StyledGraph>\n      )}\n    </div>);\n};\n\nexport default Graphs;\n","// @flow\n\nimport React from 'react';\nimport Parser from 'html-react-parser';\nimport styled from 'styled-components';\nimport format from 'date-fns/format';\n\nimport {\n  Table, Tr, Th, Td,\n} from '../../components';\n\nconst Div = styled.div`\n  padding: 1rem;\n  font-size: smaller;\n`;\n\nconst Italic = styled.div`\n  font-style: italic;\n  font-weight: lighter;\n  font-size: larger;\n`;\n\nconst Team = styled.div`\n  border: 1px solid #a4a4a4;\n  border-radius: 5px;\n  padding: 0.5rem;\n  margin: 0.5rem 0;\n`;\n\nconst Neighbourhood = React.memo(({ data = {} }: { data: Object }) => {\n  const {\n    init,\n    team,\n    events,\n    priorities,\n  } = data;\n\n  const {\n    contact_details: {\n      email,\n      facebook,\n      twitter,\n    } = {},\n    description,\n    links,\n    locations,\n    name,\n    url_force: force,\n  } = init;\n\n  return (\n    <Div>\n      <h3>{name}</h3>\n      <ul>\n        { force && <li>{force}</li> }\n        { email && <li>{email}</li> }\n        { facebook && <li>{facebook}</li> }\n        { twitter && <li>{twitter}</li> }\n      </ul>\n      <div>{description && Parser(description)}</div>\n      <hr />\n      <h4>You may want to know...</h4>\n      <div>\n        { links && links.map(({ title, url }, index) => (\n          <div key={title}>\n            <h4>{title}</h4>\n            <div>{url}</div>\n            <div>\n              {`${locations[index].name}, ${locations[index].address}, ${locations[index].postcode}`}\n            </div>\n          </div>\n        ))}\n      </div>\n      <hr />\n      <h4>TEAM</h4>\n      <div>\n        {\n          team && team.map(({ name: tname, bio }) => (\n            <Team key={tname}>\n              <Italic>{tname}</Italic>\n              <div>{bio && Parser(bio)}</div>\n            </Team>\n          ))\n        }\n      </div>\n      <hr />\n      <h4>EVENTS</h4>\n      <div>\n        {\n          events && events.map(({\n            title, start_date: start, end_date: end, type, address, description: desc,\n          }) => (\n            <Table key={`${title}_${start}_${end}`}>\n              <Tr>\n                <Th>Title</Th>\n                <Td>{title}</Td>\n              </Tr>\n              <Tr>\n                <Th>Type</Th>\n                <Td>{type}</Td>\n              </Tr>\n              <Tr>\n                <Th>Date</Th>\n                <Td>{`${format(start, 'Do MMM YYYY HH:mm')} ~ ${format(end, 'Do MMM YYYY HH:mm')}`}</Td>\n              </Tr>\n              <Tr>\n                <Th>Address</Th>\n                <Td>{address}</Td>\n              </Tr>\n              <Tr>\n                <Th>Description</Th>\n                <Td>{desc && Parser(desc)}</Td>\n              </Tr>\n            </Table>\n          ))\n        }\n      </div>\n      <hr />\n      <h4>PRIORITIES</h4>\n      <div>\n        {\n          priorities && priorities.map(({ issue, action, ...dates }) => (\n            <Table key={`${issue}_${action}`}>\n              <Tr>\n                <Th>Issue</Th>\n                <Td>{format(dates['issue-date'], 'Do MMM YYYY HH:mm')}</Td>\n              </Tr>\n              <Tr>\n                <Th />\n                <Td>{issue && Parser(issue)}</Td>\n              </Tr>\n              { action && (\n              <Tr>\n                <Th>action</Th>\n                <Td>{format(dates['action-date'], 'Do MMM YYYY HH:mm')}</Td>\n              </Tr>\n              )}\n              { action && (\n              <Tr>\n                <Th />\n                <Td>{action && Parser(action)}</Td>\n              </Tr>\n              )}\n            </Table>\n          ))\n        }\n      </div>\n    </Div>\n  );\n});\n\nexport default Neighbourhood;\n","// @flow\n\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport type {\n  AnalysePageProps as Props,\n  AnalysePageState as State,\n} from '../../utils/types';\n\nimport {\n  Modal,\n  Tabs,\n} from '../../components';\n\nimport getAnalyseState from './selectors';\nimport {\n  toggleShow,\n} from './actions';\n\nimport News from './news';\nimport Graphs from './graphs';\nimport Neighbourhood from './neighbourhood';\n\nclass AnalysePage extends React.PureComponent<Props, State> {\n  constructor() {\n    super();\n\n    this.state = {\n      select: 0,\n    };\n  }\n\n  toggleShow = () => {\n    const {\n      show,\n      onToggleShow,\n    } = this.props;\n\n    onToggleShow(!show);\n  }\n\n  select = select => () => this.setState({ select });\n\n  render() {\n    const {\n      graph,\n      news,\n      street: {\n        name,\n      } = {},\n      neighbourhood,\n      show,\n    } = this.props;\n\n    const {\n      select,\n    } = this.state;\n\n    return (\n      <Modal\n        title={name}\n        show={show}\n        onClose={this.toggleShow}\n        fixedBottom\n      >\n        <Tabs\n          select={select}\n        >\n          <Tabs.Title\n            data={['Graphs', 'News', 'Neighbourhood']}\n          />\n          <Tabs.Body>\n            <Graphs\n              graph={graph}\n            />\n            <News\n              news={news}\n            />\n            <Neighbourhood\n              data={neighbourhood}\n            />\n          </Tabs.Body>\n        </Tabs>\n      </Modal>);\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...getAnalyseState(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onToggleShow: show => dispatch(toggleShow(show)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AnalysePage);\n","// @flow\n\nimport React from 'react';\nimport Search from '../SearchPage';\nimport LeafletMap from '../MapPage';\nimport Analyse from '../AnalysePage';\n\nconst App = () => (\n  <>\n    <Search />\n    <LeafletMap />\n    <Analyse />\n  </>\n);\n\nexport default App;\n","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst NotFoundDiv = styled.div`\n  text-align: center;\n`;\n\nconst NotFound = ({\n  location: {\n    pathname,\n  } = {},\n}: {\n  location: {\n    pathname: string,\n  }\n}) => (\n  <NotFoundDiv>\n    <h1>NOT FOUND</h1>\n    <h3>We do not have this location</h3>\n    <h2>{pathname}</h2>\n    <h3>which you typed</h3>\n  </NotFoundDiv>\n);\n\nexport default NotFound;\n","// @flow\nimport update from 'immutability-helper';\n\nimport {\n  LOAD_AVAILABILITY_SUCCESS,\n  LOAD_AVAILABILITY_FAILURE,\n  LOAD_CRIME_CATEGORY_SUCCESS,\n  LOAD_CRIME_CATEGORY_FAILURE,\n  SEARCH_REQUEST,\n  SEARCH_SUCCESS,\n  SEARCH_FAILURE,\n} from './actions';\n\nimport type {\n  SearchReducerState as State,\n  Action,\n} from '../../utils/types';\n\nconst initialState = {\n  availability: [],\n  category: [],\n  crimes: [],\n  message: '',\n  loading: false,\n};\n\nexport default function searchReducer(state: State = initialState, action: Action): State {\n  switch (action.type) {\n    case SEARCH_REQUEST:\n      return update(state, {\n        $merge: {\n          ...action.data,\n          loading: true,\n        },\n      });\n    case LOAD_AVAILABILITY_SUCCESS: {\n      const {\n        availability,\n        date,\n      } = action.data || {};\n\n      return update(state, {\n        availability: { $set: availability },\n        date: { $set: date },\n      });\n    }\n    case LOAD_CRIME_CATEGORY_SUCCESS:\n      return update(state, {\n        category: { $set: action.data },\n      });\n    case SEARCH_SUCCESS:\n      return update(state, {\n        crimes: { $set: action.data },\n        loading: { $set: false },\n      });\n    case LOAD_AVAILABILITY_FAILURE:\n    case LOAD_CRIME_CATEGORY_FAILURE:\n      return update(state, {\n        message: { $set: action.message },\n      });\n    case SEARCH_FAILURE:\n      return update(state, {\n        message: { $set: action.message },\n        loading: { $set: false },\n      });\n    default:\n      return state;\n  }\n}\n","// @flow\n\nimport update from 'immutability-helper';\n\nimport type {\n  MapReducerState as State,\n  Action,\n} from '../../utils/types';\n\nimport {\n  SAVE_LOCATION,\n  INITIAL_CRIME_CIRCLES,\n  FILTER_CRIME_CIRCLES,\n} from './actions';\n\nconst initialState = {\n  latlng: {\n    lat: 51.505,\n    lng: -0.09,\n  },\n  crimes: [],\n  circles: [],\n  message: '',\n};\n\nexport default function mapReducer(state: State = initialState, action: Action) {\n  switch (action.type) {\n    case SAVE_LOCATION:\n      return update(state, {\n        latlng: { $set: action.data },\n      });\n    case INITIAL_CRIME_CIRCLES:\n      return update(state, {\n        crimes: { $set: action.data },\n        circles: { $set: action.data },\n      });\n    case FILTER_CRIME_CIRCLES: {\n      const circles = state.crimes.filter(\n        ({ category }) => action.data && action.data.includes(category),\n      );\n      return update(state, {\n        circles: { $set: circles },\n      });\n    }\n    default:\n      return state;\n  }\n}\n","// @flow\n\nimport update from 'immutability-helper';\n\nimport {\n  LOAD_GRAPHS_SUCCESS,\n  LOAD_GRAPHS_FAILURE,\n  LOAD_NEWS_SUCCESS,\n  LOAD_NEWS_FAILURE,\n  SAVE_STREET_DATA,\n  LOAD_NEIGHBOURHOOD_SUCCESS,\n  LOAD_NEIGHBOURHOOD_FAILURE,\n  TOGGLE_SHOW,\n} from './actions';\n\nimport type {\n  AnalyseReducerState as State,\n  Action,\n} from '../../utils/types';\n\nconst initialState = {\n  graph: {\n    date: [],\n    category: [],\n    outcome: [],\n  },\n  street: {},\n  news: [],\n  neighbourhood: {\n    init: {},\n    team: [],\n    events: [],\n    priorities: [],\n  },\n  show: false,\n  message: '',\n};\n\nexport default function analyseReducer(state: State = initialState, action: Action): State {\n  switch (action.type) {\n    case LOAD_GRAPHS_SUCCESS:\n      return update(state, {\n        graph: { $set: action.data },\n      });\n    case LOAD_NEWS_SUCCESS:\n      return update(state, {\n        news: { $set: action.data },\n      });\n    case SAVE_STREET_DATA:\n      return update(state, {\n        street: { $set: action.data },\n      });\n    case LOAD_NEIGHBOURHOOD_SUCCESS:\n      return update(state, {\n        neighbourhood: { $set: action.data },\n      });\n    case TOGGLE_SHOW:\n      return update(state, {\n        show: { $set: action.data },\n      });\n    case LOAD_NEWS_FAILURE:\n    case LOAD_GRAPHS_FAILURE:\n    case LOAD_NEIGHBOURHOOD_FAILURE:\n      return update(state, {\n        message: { $set: action.message },\n      });\n    default:\n      return state;\n  }\n}\n","// @flow\n\nimport { combineReducers } from 'redux';\nimport { reducer as formReducer } from 'redux-form';\n\nimport searchReducer from './SearchPage/reducer';\nimport mapReducer from './MapPage/reducer';\nimport analyseReducer from './AnalysePage/reducer';\n\nexport default combineReducers({\n  map: mapReducer,\n  search: searchReducer,\n  analyse: analyseReducer,\n  form: formReducer,\n});\n","import axios from 'axios';\n\nexport const api = {\n  police: 'https://data.police.uk/api',\n  guardian: 'https://content.guardianapis.com/search',\n  mapquest: 'https://open.mapquestapi.com/geocoding/v1',\n};\n\nexport const keys = {\n  guardian: '36ecd8a8-f9be-4d95-9643-4095fae41301',\n  mapquest: '7qAl9AvfefdHSIOkkLrVvSc466ZoHenG',\n};\n\nasync function checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  const error = new Error();\n  error.response = response;\n\n  try {\n    const body = await response.json();\n    error.body = body;\n    error.message = body.message || response.statusText;\n\n    throw error;\n  } catch (err) {\n    throw err;\n  }\n}\n\nfunction parseJSON(response) {\n  if (response.status === 204 || response.status === 205) {\n    return null;\n  }\n\n  return response;\n}\n\nexport function request(path, options) {\n  return axios.get(path, options)\n    .then(checkStatus)\n    .then(parseJSON);\n}\n","// @flow\n\nimport {\n  fork, put, takeLatest, select, all, call,\n} from 'redux-saga/effects';\nimport { api, keys, request } from '../../utils/request';\n\nimport {\n  LOAD_CRIME_CATEGORY_REQUEST,\n  SEARCH_REQUEST,\n  loadAvailabilitySuccess,\n  loadAvailabilityFailure,\n  loadCrimeCategorySuccess,\n  loadCrimeCategoryFailure,\n  searchSuccess,\n  searchFailure,\n} from './actions';\n\nimport {\n  saveLocation,\n  initialCrimeCircles,\n} from '../MapPage/actions';\n\nfunction* loadAvailability() {\n  try {\n    const response = yield call(request, `${api.police}/crimes-street-dates`);\n\n    yield put(loadAvailabilitySuccess(response.data));\n  } catch (err) {\n    console.log(err);\n    yield put(loadAvailabilityFailure(err.message));\n  }\n}\n\nfunction* loadCrimeCategory({ date: _date } = {}) {\n  try {\n    const date = _date || (new Date()).toLocaleDateString();\n\n    const response = yield call(request, `${api.police}/crime-categories?date=${date}`);\n\n    yield put(loadCrimeCategorySuccess(response.data));\n  } catch (err) {\n    console.log(err);\n    yield put(loadCrimeCategoryFailure(err.message));\n  }\n}\n\nfunction* search({\n  data: {\n    dates,\n    postcode,\n  } = {},\n} = {}) {\n  try {\n    let { lat, lng } = yield select(state => state.map.latlng);\n\n    if (postcode) {\n      const obj = {\n        options: {},\n        location: {\n          street: '',\n          city: '',\n          state: '',\n          postalCode: postcode,\n          adminArea1: 'GB',\n        },\n      };\n\n      const {\n        data: {\n          results,\n        } = {},\n      } = yield call(request, `${api.mapquest}/address?key=${keys.mapquest}&json=${JSON.stringify(obj)}`);\n\n      if (results && results.length > 0) {\n        const {\n          locations = [],\n        } = results[0];\n\n        const { latLng: { lat: _lat, lng: _lng } = {} } = locations[0];\n\n        lat = _lat;\n        lng = _lng;\n      }\n    }\n\n    if (lat && lng && dates && dates.length > 0) {\n      const responses = yield all(dates.map(date => call(request, `${api.police}/crimes-street/all-crime?lat=${lat}&lng=${lng}&date=${date}`)));\n\n      const data = responses && responses.reduce(\n        (acc, response) => [...acc, ...(response && response.data)],\n        [],\n      );\n\n      yield put(saveLocation({ lat, lng }));\n      yield put(searchSuccess(data));\n      yield put(initialCrimeCircles(data));\n    } else {\n      yield put(searchFailure('There is no position info! Please, click the map and tell me where you want to know'));\n    }\n  } catch (err) {\n    console.log(err);\n    yield put(searchFailure(err.message));\n  }\n}\n\nexport default function* saga(): Generator<any, void, any> {\n  yield fork(loadAvailability);\n  yield fork(loadCrimeCategory);\n\n  yield takeLatest(LOAD_CRIME_CATEGORY_REQUEST, loadCrimeCategory);\n  yield takeLatest(SEARCH_REQUEST, search);\n}\n","// @flow\n\nimport {\n  takeLatest, select, put, call, all,\n} from 'redux-saga/effects';\nimport { api, request, keys } from '../../utils/request';\n\nimport {\n  LOAD_GRAPHS_REQUEST,\n  loadGraphsSuccess,\n  loadGraphsFailure,\n  LOAD_NEWS_REQUEST,\n  loadNewsFailure,\n  loadNewsSuccess,\n  saveStreetData,\n  LOAD_NEIGHBOURHOOD_REQUEST,\n  loadNeighbourhoodFailure,\n  loadNeighbourhoodSuccess,\n} from './actions';\n\nfunction* loadGraph({ street }) {\n  try {\n    const crimes = yield select(state => state.search.crimes);\n    const selectedCrimes = crimes && crimes.filter(({\n      location: {\n        street: {\n          id,\n        } = {},\n      } = {},\n    }) => id === street.id);\n\n    const dates = yield select(state => state.search.dates);\n\n    const {\n      date: selectedDate,\n      category: selectedCategory,\n      outcome: selectedOutcome,\n    } = selectedCrimes.reduce((acc, ele) => {\n      const {\n        month,\n        category,\n        outcome_status: outcomeStatus,\n        outcomes: {\n          category: outcome,\n        } = outcomeStatus || {},\n      } = ele;\n\n      return ({\n        date: {\n          ...acc.date,\n          [month]: acc.date[month] ? acc.date[month] + 1 : 1,\n        },\n        category: {\n          ...acc.category,\n          [category]: acc.category[category] ? acc.category[category] + 1 : 1,\n        },\n        outcome: {\n          ...acc.outcome,\n          [outcome]: acc.outcome[outcome] ? acc.outcome[outcome] + 1 : 1,\n        },\n      });\n    }, {\n      date: {},\n      category: {},\n      outcome: {},\n    });\n\n    yield put(loadGraphsSuccess({\n      date: dates.map(d => ({\n        date: d,\n        count: selectedDate[d] || 0,\n      })),\n      category: Object.entries(selectedCategory).map(([category, count]) => ({ category, count })),\n      outcome: Object.entries(selectedOutcome).map(([outcome, count]) => ({ outcome, count })),\n    }));\n\n    yield put(saveStreetData(street));\n  } catch (err) {\n    console.error(err);\n    yield put(loadGraphsFailure(err.message));\n  }\n}\n\nfunction* loadNews({ latlng }) {\n  try {\n    const addressUrl = `${api.mapquest}/reverse?key=${keys.mapquest}&location=${latlng.join(',')}&includeRoadMetadata=true&includeNearestIntersection=true`;\n\n    const {\n      data: {\n        results: address = [],\n      } = {},\n    } = yield call(request, addressUrl);\n\n    const { locations = [] } = address[0];\n    const { street, adminArea5, postalCode } = locations[0];\n\n    const query = `${adminArea5} AND ${street || postalCode}`;\n    const dates = yield select(state => state.search.dates);\n\n    const newsUrl = `${api.guardian}?q=${query}&from-date=${dates[0]}-01&api-key=${keys.guardian}`;\n\n    const {\n      data: {\n        response: {\n          results = [],\n        },\n      } = {},\n    } = yield call(request, newsUrl);\n\n    results.sort((a, b) => b.webPublicationDate.localeCompare(a.webPublicationDate));\n\n    yield put(loadNewsSuccess(results));\n  } catch (err) {\n    console.error(err);\n    yield put(loadNewsFailure(err.message));\n  }\n}\n\nfunction* loadNeighbourhood({ latlng }) {\n  try {\n    const url = `${api.police}/locate-neighbourhood?q=${latlng.join(',')}`;\n    const {\n      data: {\n        force,\n        neighbourhood,\n      },\n    } = yield call(request, url);\n\n    const neighbourhoodUrl = `${api.police}/${force}/${neighbourhood}`;\n\n    const [{ data }, { data: people }, { data: events }, { data: priorities }] = yield all([\n      call(request, neighbourhoodUrl),\n      call(request, `${neighbourhoodUrl}/people`),\n      call(request, `${neighbourhoodUrl}/events`),\n      call(request, `${neighbourhoodUrl}/priorities`),\n    ]);\n\n    yield put(loadNeighbourhoodSuccess(data, people, events, priorities));\n  } catch (error) {\n    console.error(error);\n    yield put(loadNeighbourhoodFailure(error.message));\n  }\n}\n\nexport default function* saga(): Generator<any, void, any> {\n  yield takeLatest(LOAD_GRAPHS_REQUEST, loadGraph);\n  yield takeLatest(LOAD_NEWS_REQUEST, loadNews);\n  yield takeLatest(LOAD_NEIGHBOURHOOD_REQUEST, loadNeighbourhood);\n}\n","// @flow\n\nimport { all, fork } from 'redux-saga/effects';\n\nimport searchSaga from './SearchPage/saga';\nimport analyseSaga from './AnalysePage/saga';\n\nexport default function* sagas(): Generator<any, void, any> {\n  yield all([\n    searchSaga,\n    analyseSaga,\n  ].map(fork));\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/* eslint-disable */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport styled from 'styled-components';\nimport './index.css';\n\nimport Header from './components/header';\nimport App from './containers/AppPage';\nimport NotFound from './containers/ErrorPage/notfound';\n\nimport reducers from './containers/reducers';\nimport sagas from './containers/sagas';\n\nimport * as serviceWorker from './serviceWorker';\n\nconst saga = createSagaMiddleware();\n\nconst store = createStore(\n  reducers,\n  composeWithDevTools(applyMiddleware(saga)),\n);\n\nsaga.run(sagas);\n\nconst AppDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nReactDOM.render(\n  <Provider store={store}>\n    <AppDiv>\n      <Header />\n      <Router>\n        <Switch>\n          <Route exact path=\"/\" component={App} />\n          <Route path=\"/react-crime-map\" component={App} />\n          <Route component={NotFound} />\n        </Switch>\n      </Router>\n    </AppDiv>\n  </Provider>\n  , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}