{"version":3,"sources":["containers/AppPage/header.js","containers/SearchPage/actions.js","utils/constants.js","containers/MapPage/actions.js","components/modal.js","components/table.js","components/loading.js","components/message.js","components/select.js","components/button.js","components/tabs.js","containers/SearchPage/field.js","containers/SearchPage/gridItem.js","containers/SearchPage/form.js","containers/SearchPage/page.js","containers/AnalysePage/actions.js","containers/MapPage/page.js","containers/AnalysePage/news.js","containers/AnalysePage/graphs.js","containers/AnalysePage/page.js","containers/AppPage/index.js","containers/SearchPage/reducer.js","containers/MapPage/reducer.js","containers/AnalysePage/reducer.js","containers/reducers.js","utils/request.js","containers/SearchPage/saga.js","containers/AnalysePage/saga.js","containers/sagas.js","serviceWorker.js","index.js"],"names":["HeaderDiv","styled","header","_templateObject","Header","react_default","a","createElement","className","LOAD_AVAILABILITY_SUCCESS","LOAD_AVAILABILITY_FAILURE","LOAD_CRIME_CATEGORY_REQUEST","LOAD_CRIME_CATEGORY_SUCCESS","LOAD_CRIME_CATEGORY_FAILURE","SEARCH_REQUEST","SEARCH_SUCCESS","SEARCH_FAILURE","searchSuccess","data","type","searchFailure","message","allCrime","url","name","categoryColors","all-crime","anti-social-behaviour","bicycle-theft","burglary","criminal-damage-arson","drugs","other-theft","possession-of-weapons","public-order","robbery","shoplifting","theft-from-the-person","vehicle-crime","violent-crime","other-crime","SAVE_LOCATION","INITIAL_CRIME_CIRCLES","FILTER_CRIME_CIRCLES","saveLocation","initialCrimeCircles","crimes","crimeWithCount","reduce","acc","ele","category","_ele$location","location","latitude","longitude","_ele$location$street","street","id","Object","objectSpread","defineProperty","count","fillColor","latlng","parseFloat","values","max","Math","apply","toConsumableArray","map","opacity","ratio","radius","getRadius","ModalDiv","div","modal_templateObject","Modal","_ref","title","show","onClose","_ref$fixedBottom","fixedBottom","children","concat","onClick","TableDiv","table_templateObject","Th","Td","_ref2","Tr","_ref3","Table","_ref4","LoadingDiv","loading_templateObject","Loading","loading","react_spinners","color","MessageDiv","message_templateObject","Message","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggleModal","setState","state","prevProps","props","modal","React","PureComponent","propTyeps","PropTypes","string","select","select_templateObject","DefaultButton","button","button_templateObject","Button","objectWithoutProperties","assign","StyledTabs","tabs_templateObject","Component","StyledField","Field","field_templateObject","CustomField","Text","component","Select","options","val","value","_ref2$text","text","key","Checkbox","Div","gridItem_templateObject","GridItem","StyledForm","Form","form_templateObject","reduxForm","form","dates","onCheckCategory","handleSubmit","onSubmit","gridItem","htmlFor","field","checked","onChange","style","backgroundColor","components_button","SearchStyle","aside","page_templateObject","Search","checkCategory","evt","prevValue","checkboxes","selected","onFilterCrimeCategory","search","_this$state$date","date","params","onSearch","min","prevAvailability","availability","prevCategory","prevCrimes","_this$props","JSON","stringify","includes","_this$props2","_this$state","SearchPage_form","components_loading","components_message","defaultProps","onSelectCrimeCategory","connect","dispatch","param","min_date","minDate","max_date","maxDate","_dates","postcode","defaultDateValue","sort","b","localeCompare","searchRequest","arguments","length","undefined","filterCrimeCircles","LOAD_GRAPHS_REQUEST","LOAD_GRAPHS_SUCCESS","LOAD_GRAPHS_FAILURE","LOAD_NEWS_REQUEST","LOAD_NEWS_SUCCESS","LOAD_NEWS_FAILURE","SAVE_STREET_DATA","saveStreetData","MapStyle","main","MapPage_page_templateObject","LeafletMap","handleClick","onSaveLocation","handleLocationFound","hasLocation","handleCircle","onLoadGraphRequest","onLoadNewsRequest","leafletElement","locate","prevLatlng","_this2","circles","_this$state$latlng","Map","center","ref","zoom","onLocationfound","TileLayer","attribution","Marker","position","lat","lng","Popup","_ref$opacity","Circle","fillOpacity","stroke","loadNewsRequest","NewsStyle","news_templateObject","News","news","sectionName","pillarName","webTitle","webUrl","webPublicationDate","table_Table","table_Tr","table_Th","table_Td","Date","toLocaleDateString","href","target","StyledGraph","graphs_templateObject","Graphs","_props$graph","graph","outcome","width","window","innerWidth","LineChart","height","XAxis","dataKey","YAxis","yAxisId","Tooltip","CartesianGrid","Line","BarChart","Bar","fill","AnalysePage_page_templateObject","AnalysePage","toggleShow","prevState","page_StyledTabs","graphs","AnalysePage_news","analyse","AppDiv","AppPage_templateObject","App","page","MapPage_page","AnalysePage_page","initialState","combineReducers","action","update","$set","filter","$merge","formReducer","api","police","guardian","mapquest","keys","checkStatus","_callee","response","error","body","regenerator_default","wrap","_context","prev","next","status","abrupt","Error","json","sent","statusText","t0","stop","parseJSON","request","path","axios","get","then","loadAvailability","loadCrimeCategory","saga","put","console","log","_marked","_date","_args2","_context2","_marked2","_ref2$data","_lat","_lng","obj","_ref4$data","results","locations","responses","_args3","_context3","urls","city","postalCode","adminArea1","latLng","all","_marked3","_context4","fork","takeLatest","_marked4","loadGraph","loadNews","selectedCrimes","crimesByDate","_ref2$location","_ref2$location$street","month","d","entries","slicedToArray","outcome_status","_ele$outcomes","outcomes","_ref5","_ref6","saga_marked","_ref7","addressUrl","_ref8","_ref8$data","_ref8$data$results","_address$0$locations","_locations$","adminArea5","query","newsUrl","_ref9","_ref9$data","_ref9$data$response$r","join","saga_marked2","saga_marked3","sagas","searchSaga","analyseSaga","sagas_marked","Boolean","hostname","match","createSagaMiddleware","store","createStore","reducers","composeWithDevTools","applyMiddleware","run","ReactDOM","render","es","AppPage","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.dc5e8059.chunk.js","sourcesContent":["// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst HeaderDiv = styled.header`\n    order: 0;\n    background: darkslateblue;\n    color: yellow;\n    line-height: 2rem;\n    height: 4rem;\n    vertical-align: middle;\n    padding: 0;\n    margin: 0;\n    text-align: center;\n    position: relative;\n\n    .title {\n      text-align: center;\n      font-size: larger;\n      font-weight: bolder;\n    }\n\n    .email {\n      text-align: right;\n      padding: 0 1rem;\n      font-size: small;\n    }\n`;\n\nconst Header = () => (<HeaderDiv>\n  <div className=\"title\">\n    CRIME MAP\n  </div>\n  <div className=\"email\">\n    <span className=\"smaller\">Contact me: melancholy8914@gmail.com</span>\n  </div>\n</HeaderDiv>);\n\nexport default Header;","// @flow\n\n// import {\n//   allCrime,\n// } from '../../utils/constants';\n\nexport const LOAD_AVAILABILITY_SUCCESS = 'containers/SearchPage/actions/LOAD_AVAILABILITY_SUCCESS';\nexport const LOAD_AVAILABILITY_FAILURE = 'containers/SearchPage/actions/LOAD_AVAILABILITY_FAILURE';\n\nexport const LOAD_CRIME_CATEGORY_REQUEST = 'containers/SearchPage/actions/LOAD_CRIME_CATEGORY_REQUEST';\nexport const LOAD_CRIME_CATEGORY_SUCCESS = 'containers/SearchPage/actions/LOAD_CRIME_CATEGORY_SUCCESS';\nexport const LOAD_CRIME_CATEGORY_FAILURE = 'containers/SearchPage/actions/LOAD_CRIME_CATEGORY_FAILURE';\n\nexport const SEARCH_REQUEST = 'containers/SearchPage/actions/SEARCH_REQUEST';\nexport const SEARCH_SUCCESS = 'containers/SearchPage/actions/SEARCH_SUCCESS';\nexport const SEARCH_FAILURE = 'containers/SearchPage/actions/SEARCH_FAILURE';\n\nexport function loadAvailabilitySuccess (data: Array<Object>) {\n  return {\n    type: LOAD_AVAILABILITY_SUCCESS,\n    data,\n  }\n}\n\nexport function loadAvailabilityFailure (message: string) {\n  return {\n    type: LOAD_AVAILABILITY_FAILURE,\n    message,\n  }\n}\n\nexport function loadCrimeCategorySuccess (data: Array<Object>) {\n  return {\n    type: LOAD_CRIME_CATEGORY_SUCCESS,\n    data,\n  }\n}\n\nexport function loadCrimeCategoryFailure (message: string) {\n  return {\n    type: LOAD_CRIME_CATEGORY_FAILURE,\n    message,\n  }\n}\n\nexport function searchRequest ({\n  minDate: min_date,\n  maxDate: max_date,\n  dates: _dates,\n  postcode,\n  // ...rest\n}: {\n  minDate: string,\n  maxDate: string,\n  dates: Array<{ value: string }>,\n  postcode: string,\n}) {\n  const defaultDateValue = _dates[0].value;\n  const minDate = min_date || defaultDateValue;\n  const maxDate = max_date || defaultDateValue;\n\n  const dates: Array<string> = _dates.reduce((acc, ele: { value: string }) => {\n    if (minDate <= ele.value && ele.value <= maxDate) {\n      return [...acc, ele.value];\n    }\n    return acc;\n  }, []).sort((a, b) => a.localeCompare(b));\n\n  // const {\n  //   urls,\n  // }: {\n  //   done: boolean,\n  //   urls: Array<string>,\n  // } = Object.entries(rest).reduce((acc, ele) => {\n  //   if (!acc.done) {\n  //     if (ele[0] === allCrime.url && ele[1]) {\n  //       return {\n  //         done: true,\n  //         urls: [ele[0]],\n  //       };\n  //     } else if (ele[1]) {\n  //       acc.urls.push(ele[0]);\n  //     }\n  //   }\n  //   return acc;\n  // }, {\n  //   done: false,\n  //   urls: [],\n  // });\n\n  const data = {\n    // urls,\n    dates,\n    postcode,\n  };\n\n  return {\n    type: SEARCH_REQUEST,\n    data,\n  }\n}\n\nexport function searchSuccess (data: Array<Object>) {\n  return {\n    type: SEARCH_SUCCESS,\n    data,\n  }\n}\n\nexport function searchFailure (message: string) {\n  return {\n    type: SEARCH_FAILURE,\n    message,\n  }\n}","export const outcomes = [\n  { code: \"awaiting-court-result\", name: \"Awaiting court outcome\" },\n  { code: \"court-result-unavailable\", name: \"Court result unavailable\" },\n  { code: \"unable-to-proceed\", name: \"Court case unable to proceed\" },\n  { code: \"local-resolution\", name: \"Local resolution\" },\n  { code: \"no-further-action\", name: \"Investigation complete; no suspect identified\" },\n  { code: \"deprived-of-property\", name: \"Offender deprived of property\" },\n  { code: \"fined\", name: \"Offender fined\" },\n  { code: \"absolute-discharge\", name: \"Offender given absolute discharge\" },\n  { code: \"cautioned\", name: \"Offender given a caution\" },\n  { code: \"drugs-possession-warning\", name: \"Offender given a drugs possession warning\" },\n  { code: \"penalty-notice-issued\", name: \"Offender given a penalty notice\" },\n  { code: \"community-penalty\", name: \"Offender given community sentence\" },\n  { code: \"conditional-discharge\", name: \"Offender given conditional discharge\" },\n  { code: \"suspended-sentence\", name: \"Offender given suspended prison sentence\" },\n  { code: \"imprisoned\", name: \"Offender sent to prison\" },\n  { code: \"other-court-disposal\", name: \"Offender otherwise dealt with\" },\n  { code: \"compensation\", name: \"Offender ordered to pay compensation\" },\n  { code: \"sentenced-in-another-case\", name: \"Suspect charged as part of another case\" },\n  { code: \"charged\", name: \"Suspect charged\" },\n  { code: \"not-guilty\", name: \"Defendant found not guilty\" },\n  { code: \"sent-to-crown-court\", name: \"Defendant sent to Crown Court\" },\n  { code: \"unable-to-prosecute\", name: \"Unable to prosecute suspect\" },\n  { code: \"formal-action-not-in-public-interest\", name: \"Formal action is not in the public interest\" },\n  { code: \"action-taken-by-another-organisation\", name: \"Action to be taken by another organisation\" },\n  { code: \"further-investigation-not-in-public-interest\", name: \"Further investigation is not in the public interest\" },\n  { code: \"under-investigation\", name: \"Under investigation\" },\n  { code: \"status-update-unavailable\", name: \"Status update unavailable\" },\n];\n\nexport const allCrime = {\n  url: 'all-crime',\n  name: 'All crime'\n};\n\nexport const categoryColors = {\n  \"all-crime\": \"#d17f68\",\n  \"anti-social-behaviour\": \"#73b638\",\n  \"bicycle-theft\": \"#a45dcf\",\n  \"burglary\": \"#5fbc6e\",\n  \"criminal-damage-arson\": \"#c0489a\",\n  \"drugs\": \"#4b7d3c\",\n  \"other-theft\": \"#666dc6\",\n  \"possession-of-weapons\": \"#d99938\",\n  \"public-order\": \"#5e99d2\",\n  \"robbery\": \"#cc4f32\",\n  \"shoplifting\": \"#49b9a9\",\n  \"theft-from-the-person\": \"#c7496a\",\n  \"vehicle-crime\": \"#adac4d\",\n  \"violent-crime\": \"#c581bb\",\n  \"other-crime\": \"#8b6c2f\",\n};","// @flow\n\nimport {\n  categoryColors,\n} from '../../utils/constants';\n\nimport {\n  Location,\n} from '../../utils/types';\n\nexport const SAVE_LOCATION = 'containers/MapPage/actions/SAVE_LOCATION';\n\nexport const INITIAL_CRIME_CIRCLES = 'containers/MapPage/actions/INITIAL_CRIME_CIRCLES';\n\nexport const FILTER_CRIME_CIRCLES = 'containers/MapPage/actions/FILTER_CRIME_CIRCLES';\n\nexport function saveLocation (data: Location) {\n  return {\n    type: SAVE_LOCATION,\n    data,\n  }\n}\n\nexport function initialCrimeCircles (crimes: Array<Object>) {\n  const crimeWithCount: Object = crimes.reduce((acc, ele) => {\n      const {\n        category,\n        location: {\n          latitude,\n          longitude,\n          street = {},\n        } = {},\n      } = ele;\n\n      if (!acc[street.id]) {\n        return {\n          ...acc,\n          [street.id]: {\n            category,\n            fillColor: categoryColors[category],\n            street,\n            count: 1,\n            latlng: [parseFloat(latitude), parseFloat(longitude)],\n          },\n        };\n      } else {\n        return {\n          ...acc,\n          [street.id]: {\n            ...acc[street.id],\n            count: acc[street.id].count + 1,\n          },\n        };\n      }\n  }, {});\n\n  const values: Array<Object> = (Object.values(crimeWithCount): any);\n\n  const max = Math.max(...values.map((ele) => ele.count));\n\n  const minOpacity = 0.75;\n  const maxOpacity = 1;\n  const minRadius = 25;\n  const maxRadius = 250;\n\n  const getOpacity = (ratio) => ratio * (maxOpacity - minOpacity) + minOpacity;\n  const getRadius = (ratio) => ratio * (maxRadius - minRadius) + minRadius;\n\n  const data: Array<Object> = values.map((ele: Object) => ({\n    ...ele,\n    opacity: getOpacity(ele.count / max),\n    radius: getRadius(ele.count / max),\n  }));\n\n  return {\n    type: INITIAL_CRIME_CIRCLES,\n    data,\n  }\n}\n\nexport function filterCrimeCircles (selected: Array<string> = []) {\n  return {\n    type: FILTER_CRIME_CIRCLES,\n    selected,\n  }\n}","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst ModalDiv = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 1;\n\n  .modal-title {\n    position: fixed;\n    right: 0;\n    left: 0;\n    top: 4.5rem;\n    height: 3rem;\n    background-color: black;\n    color: white;\n    vertical-align: middle;\n    line-height: 3rem;\n    text-align: center;\n\n    @media screen and (min-width: 426px) {\n      top: 7rem;\n    }\n\n    @media screen and (min-width: 768px) {\n      right: 10%;\n      left: 10%;\n    }\n\n    .title {\n      display: inline-block;\n      width: calc(100% - 2rem);\n    }\n\n    .close {\n      display: inline-block;\n      width: 2rem;\n      font-size: large;\n      font-weight: bold;    \n      border: 0;\n      background-color: black;\n      color: white;\n    }\n  }\n\n  .modal-main {\n    position: fixed;\n    background: white;\n    min-height: 10rem;\n    // height: calc(50% - 6rem);\n    overflow: auto;\n    top: 7.5rem;\n    left: 0;\n    right: 0;\n    \n    @media screen and (min-width: 426px) {\n      top: 10rem;\n    }\n\n    @media screen and (min-width: 768px) {\n      right: 10%;\n      left: 10%;\n    }\n\n    &.fixed-bottom {\n      bottom: 6.5rem;\n\n      @media screen and (min-width: 426px) {\n        bottom: 10rem;\n      }\n    }\n  }\n\n  .modal-footer {\n    position: fixed;\n    background-color: white;\n    padding: 0.5rem;\n    right: 0;\n    left: 0;\n    text-align: right;\n\n    bottom: 4rem;\n    @media screen and (min-width: 426px) {\n      bottom: 6.5rem;\n      padding: 1rem;\n      right: 10%;\n      left: 10%;\n    }\n    \n    border-top: 1px dotted black;\n\n    .close {\n      border: none;\n      font-size: large;\n      background: transparent;\n    }\n  }\n`;\n\nconst Modal = ({ title, show, onClose, fixedBottom = false, children }: {\n  title?: string,\n  show: boolean,\n  onClose?: Function,\n  fixedBottom?: boolean,\n  children: any,\n}) => (\n  <ModalDiv className={`display-${show ? 'block' : 'none'}`}>\n    { title &&\n    <div className=\"modal-title\">\n      <div className=\"title\">{ title }</div>\n      { onClose && !fixedBottom && <button className=\"close\" onClick={onClose}>X</button> }\n    </div> }\n    <div className={`modal-main ${fixedBottom ? 'fixed-bottom' : ''}`}>\n      { children }\n    </div>\n    {\n      onClose && fixedBottom && (<div className=\"modal-footer\">\n        { onClose && <button className=\"close\" onClick={onClose}>Close</button> }\n      </div>)\n    }\n  </ModalDiv>\n);\n\nexport default Modal;","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst TableDiv = styled.div`\n  margin: 0.5rem auto;\n  display: table;\n\n  box-shadow: 1.5px 2px 1px 1px;\n  border-radius: 0.5rem;\n  width: -webkit-fill-available;\n  padding: 0.5rem;\n\n  .tr {\n    display: table-row;\n  }\n\n  .th {\n    display: table-cell;\n    font-weight: 600;\n    width: 4rem;\n  }\n\n  .td {\n    display: table-cell;\n  }\n`;\n\nconst Th = ({ children }: { children: any }) => (<div className=\"th\">{ children }</div>);\n\nconst Td = ({ children }: { children: any }) => (<div className=\"td\">{ children }</div>);\n\nconst Tr = ({ children }: { children: Array<any> }) => (<div className=\"tr\">{ children }</div>);\n\nconst Table = ({ children }: { children: Array<typeof Tr> }) => (<TableDiv className=\"table\">{ children }</TableDiv>);\n\nexport {\n  Table,\n  Tr, Th, Td,\n};\n","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport { HashLoader } from 'react-spinners';\n\nconst LoadingDiv = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 1;\n\n  & > div {\n    margin: 15rem auto;\n  }\n`;\n\nconst Loading = ({ loading }: { loading: boolean }) => (\n  <LoadingDiv className={`display-${loading ? 'block' : 'none'}`}>\n    <HashLoader\n      color=\"#fff\"\n      loading={loading}\n    />\n  </LoadingDiv>\n);\n\nexport default Loading;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport Modal from './modal';\n\nconst MessageDiv = styled.div`\n  margin: 1rem;\n  padding: 1rem 0.5rem;\n`;\n\nclass Message extends React.PureComponent {\n  static propTyeps = {\n    message: PropTypes.string,\n  }\n\n  constructor() {\n    super();\n\n    this.state = {\n      show: false,\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.message !== this.props.message) {\n      this.toggleModal();\n    }\n  }\n\n  toggleModal = () => this.setState({ show: !this.state.show })\n\n  render() {\n    return (<Modal\n      title=\"Something goes wrong\"\n      show={this.state.show}\n      onClose={this.toggleModal}\n      >\n        <MessageDiv>\n          {this.props.message}\n        </MessageDiv>\n      </Modal>);\n  }\n}\n\nexport default Message;","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst StyledSelect = styled.select`\n  border: 1px solid lightgray;\n  border-radius: 0.5rem;\n  height: 1.5rem;\n  min-width: 5rem;\n  background-color: white;\n  font-family: inherit;\n`;\n\nconst Select = ({ id, name, value, options, onChange, className, ...props }: {\n  id: string | number,\n  name: string,\n  value: string | number,\n  className: string,\n  options: Array<{ value: any, text?: string }>,\n  onChange: Function,\n}) => (\n  <StyledSelect\n    id={id}\n    name={name}\n    onChange={onChange}\n    value={value}\n    className={className}\n  >\n  {\n    options && options.map(({value: val, text = val}) => <option key={val} value={val}>{text}</option>)  \n  }\n  </StyledSelect>\n);\n\nexport default Select;\n","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst DefaultButton = styled.button`\n  background-color: black;\n  color: white;\n  font-weight: bolder;\n  padding: 0.3rem 1rem;\n  border: 0;\n  border-radius: 0.5rem;\n  min-height: 1.5rem;\n  font-family: inherit;\n`;\n\nconst Button = ({ onClick, className, children, ...props }:\n  { onClick: Function, className: string, type?: string, children: any }) => (\n  <DefaultButton onClick={onClick} className={className} {...props} >\n    { children }\n  </DefaultButton>\n);\n\nexport default Button;","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledTabs = styled.div`\n  .tabs {\n    overflow: hidden;\n    background-color: #f1f1f1;\n    border: 1px solid #ccc;\n\n    button {\n      background-color: inherit;\n      float: left;\n      border: none;\n      outline: none;\n      cursor: pointer;\n      padding: 14px 16px;\n      transition: 0.3s;\n\n      &:hover {\n        background-color: #ddd;\n      }\n\n      .active {\n        background-color: #ccc;\n      }\n    }\n  }\n\n  .tab {\n    display: none;\n    padding: 6px 12px;\n    border: 1px solid #ccc;\n    border-top: none;\n\n    &.active {\n      display: block;\n    }\n  }\n`;\n\nexport default class Tabs extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      id: -1,\n    };\n  }\n\n  select = (id) => () => {\n    this.setState({ id });\n  }\n\n  render() {\n    const { id } = this.state;\n\n    return (\n      <StyledTabs>\n        <div className=\"tabs\">\n          <button className={`${id === 'london' && 'active'}`} onClick={this.select('london')}>London</button>\n          <button className={`${id === 'seoul' && 'active'}`} onClick={this.select('seoul')}>Seoul</button>\n          <button className={`${id === 'amsterdam' && 'active'}`} onClick={this.select('amsterdam')}>Amsterdam</button>\n        </div>\n        <div id=\"london\" className={`tab ${id === 'london' && 'active'}`}>\n          <h3>London</h3>\n        </div>\n        <div id=\"seoul\" className={`tab ${id === 'seoul' && 'active'}`}>\n          <h3>Seoul</h3>\n        </div>\n        <div id=\"amsterdam\" className={`tab ${id === 'amsterdam' && 'active'}`}>\n          <h3>Amsterdam</h3>\n        </div>\n      </StyledTabs>\n    );\n  }\n}","// @flow\n\nimport React from 'react';\nimport { Field } from 'redux-form';\nimport styled from 'styled-components';\n\nconst StyledField = styled(Field)`\n  border: 1px solid lightgray;\n  border-radius: 0.5rem;\n  height: 1.5rem;\n  min-width: 5rem;\n  font-family: inherit;\n`;\n\nconst Text = (props: Object) => (<StyledField\n  component=\"input\"\n  type=\"text\"\n  { ...props }\n/>);\n\nconst Select = ({ options, ...props }: {\n  options: Array<{ value: any, text?: string }>,\n}) => (\n  <StyledField\n    component=\"select\"\n    { ...props }\n  >\n  {\n    options && options.map(({value: val, text = val}) => <option key={val} value={val}>{text}</option>)  \n  }\n  </StyledField>\n);\n\nconst Checkbox = (props: Object) => (\n  <Field\n    component=\"input\"\n    type=\"checkbox\"\n    { ...props }\n  />\n);\n\nconst CustomField = {\n  Text,\n  Select,\n  Checkbox,\n};\n\nexport default CustomField;","// @flow\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst Div = styled.div`\n  padding: 0.5rem;\n\n  & > label {\n    font-size: smaller;\n    text-transform: capitalize;\n    font-weight: bold;\n  }\n\n  &.select {\n    padding: 0.25rem 0.5rem;\n  }\n\n  &.whole-row {\n    grid-column-start: 1;\n    grid-column-end: 3;\n\n    .each-crime {\n      display: inline-block;\n\n      min-width: 50%;\n      @media screen and (max-width: 400px) {\n        min-width: 75%;\n      }\n      @media screen and (min-width: 768px) {\n        min-width: calc(100%/3);\n      }\n      @media screen and (min-width: 1024px) {\n        min-width: 25%;\n      }\n\n      font-size: small;\n      line-height: 1rem;\n      vertical-align: middle;\n\n      label {\n        font-size: smaller;\n        font-weight: bolder;\n      }\n\n      .color {\n        width: 0.75rem;\n        height: 0.75rem;\n        display: inline-block;\n        border-radius: 0.5rem;\n        margin: 0 0.3rem;\n      }\n    }\n\n    button {\n      width: 100%;\n    }\n  }\n`;\n\nconst GridItem = ({ id, className, children }: {\n  id?: string | number,\n  className?: string,\n  children: any,\n}) => (\n  <Div id={id} className={className}>\n    { children }\n  </Div>\n);\n\nexport default GridItem;","// @flow\nimport React from 'react';\nimport { Form, reduxForm } from 'redux-form';\nimport styled from 'styled-components';\n\nimport {\n  categoryColors,\n  allCrime,\n} from '../../utils/constants';\n\nimport {\n  Button,\n} from '../../components';\n\nimport Field from './field';\nimport GridItem from './gridItem';\n\nconst StyledForm = styled(Form)`\n  display: grid;\n  grid-template-rows: 2rem 2rem auto 2rem;\n  grid-template-columns: 4.5rem auto;\n`;\n\nconst SearchForm = ({\n  dates,\n  category,\n  onCheckCategory,\n  handleSubmit,\n}: {\n  dates: Array<Object>,\n  category: Array<{ url: string, name: string, checked: boolean }>,\n  onCheckCategory: Function,\n  handleSubmit: Function,\n}) => (\n  <StyledForm onSubmit={handleSubmit}>\n    <GridItem>\n      <label htmlFor=\"select_date\">date</label>\n    </GridItem>\n    <GridItem className=\"select\" id=\"select_date\">\n      <Field.Select\n        name=\"minDate\"\n        options={dates}\n      />\n      <span> ~ </span>\n      <Field.Select\n        name=\"maxDate\"\n        options={dates}\n      />\n    </GridItem>\n    <GridItem>\n      <label htmlFor=\"postcode\">postcode</label>\n    </GridItem>\n    <GridItem className=\"select\">\n      <Field.Text\n        name=\"postcode\"\n        id=\"postcode\"\n      />\n    </GridItem>\n    <GridItem className=\"whole-row\">\n      {\n        category && category.map(({ url, checked, name }) => (<div className=\"each-crime\" key={url}>\n          <Field.Checkbox\n            name={url}\n            id={`checkbox_${url}`}\n            onChange={onCheckCategory}\n            checked={checked}\n          />\n          <label htmlFor={`checkbox_${url}`}>{name}</label>\n          { url !== allCrime.url && \n            <span className=\"color\" style={{ backgroundColor: categoryColors[url] }}></span>\n          }\n        </div>))\n      }\n    </GridItem>\n    <GridItem className=\"whole-row\">\n      <Button type=\"submit\">SEARCH</Button>\n    </GridItem>\n  </StyledForm>\n);\n\nexport default reduxForm({\n  form: 'search',\n})(SearchForm);","// @flow\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\n\nimport {\n  searchRequest,\n} from './actions';\n\nimport {\n  filterCrimeCircles,\n} from '../MapPage/actions';\n\nimport {\n  SearchPageProps as Props,\n  SearchPageState as State,\n} from '../../utils/types';\n\nimport {\n  allCrime,\n} from '../../utils/constants';\n\nimport {\n  Loading,\n  Message,\n} from '../../components';\n\nimport SearchForm from './form';\n\nconst SearchStyle = styled.aside`\n  order: 1;\n  margin: 0.5rem;\n  padding: 0.5rem;\n`;\n\nclass Search extends React.PureComponent<Props, State> {\n\n  static defaultProps = {\n    availability: [],\n    category: [],\n    crimes: [],\n    message: null,\n    loading: false,\n    onSelectCrimeCategory: () => {},\n    onFilterCrimeCategory: () => {},\n    onSearch: () => {},\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      date: {\n        min: '',\n        max: '',\n        dates: [],\n      },\n      checkboxes: [],\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      availability: prevAvailability,\n      category: prevCategory,\n      crimes: prevCrimes,\n    } = prevProps;\n\n    const {\n      availability,\n      category,\n      crimes,\n    } = this.props;\n\n    if (JSON.stringify(prevAvailability) !== JSON.stringify(availability)){\n      const date = availability.reduce((acc, ele) => ({\n          min: (acc.min && acc.min < ele.date) ? acc.min : ele.date,\n          max: (acc.max && acc.max > ele.date) ? acc.max : ele.date,\n          dates: acc.dates ? [...acc.dates, { value: ele.date }] : [{ value: ele.date }],\n        }), {\n          ...this.state.date,\n        });\n\n      this.setState({\n        date,\n      });\n    }\n\n    if (JSON.stringify(prevCategory) !== JSON.stringify(category)) {\n      const checkboxes = this.props.category.reduce((acc, ele) => {\n          return [\n            ...acc,\n            {\n              ...ele,\n              checked: true,\n            }\n          ];\n      }, []);\n\n      this.setState({\n        checkboxes,\n      });\n    }\n\n    if (JSON.stringify(prevCrimes) !== JSON.stringify(crimes)) {\n      const category = [allCrime.url, ...crimes.map((ele) => ele.category)];\n\n      const checkboxes = this.props.category.reduce((acc, ele) => {\n        return [\n          ...acc,\n          {\n            ...ele,\n            checked: category.includes(ele.url),\n          }\n        ];\n      }, []);\n\n      this.setState({\n        checkboxes,\n      });\n    }\n  }\n\n  checkCategory = (evt, value, prevValue, name) => {\n    let checkboxes = [];\n    if (name === allCrime.url) {\n      checkboxes = this.state.checkboxes.map((ele) => ({\n        ...ele,\n        checked: value,\n      }));\n\n    } else {\n      checkboxes = this.state.checkboxes.map((ele) => {\n        if (ele.url === name) {\n          return {\n            ...ele,\n            checked: value,\n          }\n        } \n        return ele;\n      });\n    }\n\n    const selected = checkboxes.reduce((acc, ele) => {\n      if(ele.checked) {\n        return [...acc, ele.url];\n      }\n      return acc;\n    }, []);\n\n    this.props.onFilterCrimeCategory(selected);\n\n    this.setState({\n      checkboxes,\n    });\n  }\n\n  search = (value) => {\n    const {\n      date: {\n        dates,\n      } = {},\n    } = this.state;\n\n    const params = {\n      ...value,\n      dates,\n    };\n\n    this.props.onSearch(params);\n  }\n\n  render() {\n    const {\n      message,\n      loading,\n    } = this.props;\n\n    const {\n      date: {\n        dates,\n      },\n      checkboxes,\n    } = this.state;\n\n    return (\n      <SearchStyle>\n        <SearchForm\n          dates={dates}\n          category={checkboxes}\n          onCheckCategory={this.checkCategory}\n          onSubmit={this.search}\n        />\n        <Loading loading={loading} />\n        <Message\n          message={message}\n        />\n      </SearchStyle>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ...state.search,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onSearch: (param) => dispatch(searchRequest(param)),\n    onFilterCrimeCategory: (selected) => dispatch(filterCrimeCircles(selected)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\n","// @flow\n\nexport const LOAD_GRAPHS_REQUEST = 'containers/AnalysePage/LOAD_GRAPHS_REQUEST';\nexport const LOAD_GRAPHS_SUCCESS = 'containers/AnalysePage/LOAD_GRAPHS_SUCCESS';\nexport const LOAD_GRAPHS_FAILURE = 'containers/AnalysePage/LOAD_GRAPHS_FAILURE';\n\nexport const LOAD_NEWS_REQUEST = 'containers/AnalysePage/LOAD_NEWS_REQUEST';\nexport const LOAD_NEWS_SUCCESS = 'containers/AnalysePage/LOAD_NEWS_SUCCESS';\nexport const LOAD_NEWS_FAILURE = 'containers/AnalysePage/LOAD_NEWS_FAILURE';\n\nexport const SAVE_STREET_DATA = 'containers/AnalysePage/SAVE_STREET_DATA';\n\nexport function loadGraphsRequest(street: { id: number, name: string }) {\n  return {\n    type: LOAD_GRAPHS_REQUEST,\n    street,\n  }\n}\n\nexport function loadGraphsSuccess(data: { date: Array<Object>, category: Array<Object>, outcome: Array<Object>}) {\n  return {\n    type: LOAD_GRAPHS_SUCCESS,\n    data,\n  }\n}\n\nexport function loadGraphsFailure(message: string) {\n  return {\n    type: LOAD_GRAPHS_FAILURE,\n    message,\n  }\n}\n\nexport function loadNewsRequest(latlng: { lat: number, lng: number }) {\n  return {\n    type: LOAD_NEWS_REQUEST,\n    latlng,\n  }\n}\n\nexport function loadNewsSuccess(news: Array<Object>) {\n  return {\n    type: LOAD_NEWS_SUCCESS,\n    data: news,\n  }\n}\n\nexport function loadNewsFailure(message: string) {\n  return {\n    type: LOAD_NEWS_FAILURE,\n    message,\n  }\n}\n\nexport function saveStreetData(street: Object) {\n  return {\n    type: SAVE_STREET_DATA,\n    data: street,\n  }\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport styled from 'styled-components';\n\nimport {\n  Map, TileLayer,\n  Marker, Popup,\n  Circle,\n} from 'react-leaflet';\n\nimport {\n  loadGraphsRequest,\n  loadNewsRequest,\n} from '../AnalysePage/actions';\n\nimport {\n  saveLocation,\n} from './actions';\n\nconst attribution = \"&amp;copy <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\";\nconst url = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\n\nconst MapStyle = styled.main`\n  order: 2;\n    height: 32.5rem;\n    z-index: 0;\n\n    .leaflet-container {\n      height: 100%;\n      margin: 0.5rem;\n      border-radius: 1.5rem;\n    }\n`;\n\nclass LeafletMap extends React.PureComponent {\n  static propTypes = {\n    latlng: PropTypes.shape({\n      lat: PropTypes.number,\n      lng: PropTypes.number,\n    }),\n    circles: PropTypes.array,\n    onSaveLocation: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      latlng: props.latlng,\n    }\n  }\n\n  componentDidMount() {\n    if (this.map.leafletElement) {\n      this.map.leafletElement.locate();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      latlng: prevLatlng,\n    } = prevProps;\n\n    const {\n      latlng,\n    } = this.props;\n\n    if (prevLatlng !== latlng) {\n      this.setState({\n        latlng,\n      });\n    }\n  }\n\n  handleClick = (evt) => this.props.onSaveLocation(evt.latlng);\n\n  handleLocationFound = (evt) => {\n    this.setState({\n      hasLocation: true,\n      latlng: evt.latlng,\n    });\n\n    this.props.onSaveLocation(evt.latlng);\n  }\n\n  handleCircle = (street, latlng) => () => {\n    this.props.onLoadGraphRequest(street);\n    this.props.onLoadNewsRequest(latlng);\n  }\n\n  render() {\n    const {\n      circles,\n    } = this.props;\n\n    const {\n      latlng = {},\n    } = this.state;\n\n    return (\n      <MapStyle className=\"map\">\n        <Map\n          center={latlng}\n          ref={(val) => { this.map = val; }}\n          zoom={13}\n          onClick={this.handleClick}\n          onLocationfound={this.handleLocationFound}\n        >\n          <TileLayer\n            attribution={attribution}\n            url={url}\n          />\n          { latlng &&\n          <Marker position={[latlng.lat, latlng.lng]}>\n            <Popup>\n              {`You clicked here!!\n              Latitude: ${latlng.lat}\n              Longitude: ${latlng.lng}`}\n            </Popup>\n          </Marker> }\n          {\n            circles && circles.map(({latlng, street, radius, count, opacity = 0.5, fillColor}) => \n            <Circle\n              fillColor={fillColor}\n              fillOpacity={opacity}\n              stroke={false}\n              radius={radius}\n              center={latlng}\n              key={latlng}\n              onClick={this.handleCircle(street, latlng)}\n            >\n              <Popup>\n              {`Street Id: ${street.id}\n              Street Name: ${street.name}\n              Crime Count: ${count}`}\n              </Popup>\n            </Circle>)\n          }\n        </Map>\n      </MapStyle>\n    );\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    ...state.map,\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onSaveLocation: (latlng) => dispatch(saveLocation(latlng)),\n    onLoadGraphRequest: (id) => dispatch(loadGraphsRequest(id)),\n    onLoadNewsRequest: (latlng) => dispatch(loadNewsRequest(latlng)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LeafletMap);\n","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport {\n  Table, Tr, Th, Td,\n} from '../../components';\n\nimport {\n  NewsProps as Props,\n} from '../../utils/types';\n\nconst NewsStyle = styled.div`\n  .table {\n    width: 90%;\n\n    @media screen and (min-width: 768px) {\n      display: inline-table;\n      width: 45%;\n      margin: 0.5rem;\n    }\n  }\n  .tr {\n    line-height: 2rem;\n\n    .th, .td {\n      padding: 0 0.5rem;\n      font-size: smaller;\n    }\n  }\n`;\n\nconst News = ({ news }: Props) => (\n  <NewsStyle>\n    {\n      news && news.map(({id, sectionName, pillarName, webTitle, webUrl, webPublicationDate }) =>\n        (<Table key={id}>\n          <Tr>\n            <Th>Date</Th>\n            <Td>{ new Date(webPublicationDate).toLocaleDateString() }</Td>\n          </Tr>\n          <Tr>\n            <Th>Section</Th>\n            <Td>{ sectionName }</Td>\n          </Tr>\n          <Tr>\n            <Th>Pillar</Th>\n            <Td>{ pillarName }</Td>\n          </Tr>\n          <Tr>\n            <Th>Title</Th>\n            <Td><a href={webUrl} target=\"_new\">{ webTitle }</a></Td>\n          </Tr>\n        </Table>\n      ))\n    }\n  </NewsStyle>\n);\n\nexport default News;","// @flow\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport {\n  LineChart, Line,\n  BarChart, Bar,\n  XAxis, YAxis,\n  Tooltip,\n  CartesianGrid,\n} from 'recharts';\n\nimport {\n  GraphProps as Props,\n} from '../../utils/types';\n\nconst StyledGraph = styled.div`\n  display: inline-block;\n  padding: 0 0.5rem;\n`;\n\nconst Graphs = (props: Props) => {\n  const {\n    graph: {\n      date,\n      category,\n      outcome,\n    } = {},\n  } = props;\n  \n  let width = window.innerWidth + 24;\n  if (width >= 1024) {\n    width = width / 3;\n  } else if (width >= 768) {\n    width = width / 2;\n  }\n  width = width - 35 - 12;\n\n  return (<div>\n    { date && date.length > 0 && \n    <StyledGraph>\n      <p>Number of crimes by date</p>\n      <LineChart\n        width={width}\n        height={width}\n        data={date}\n      >\n        <XAxis dataKey=\"date\" />\n        <YAxis type=\"number\" yAxisId={0} />\n        <Tooltip />\n        <CartesianGrid stroke=\"#f5f5f5\" />\n        <Line type=\"monotone\" dataKey=\"count\" stroke=\"#ff7300\" yAxisId={0} />\n      </LineChart>\n    </StyledGraph>\n    }\n    { category && category.length > 1 &&\n      <StyledGraph>\n        <p>Number of crimes by category</p>\n        <BarChart\n          width={width}\n          height={width}\n          data={category}\n        >\n          <XAxis dataKey=\"category\" />\n          <YAxis type=\"number\" yAxisId={0} />\n          <Tooltip />\n          <CartesianGrid stroke=\"#f5f5f5\" />\n          <Bar type=\"monotone\" dataKey=\"count\" fill=\"#387908\" yAxisId={0} />\n        </BarChart>\n      </StyledGraph>\n    }\n    { outcome && outcome.length > 0 &&\n      <StyledGraph>\n        <p>Number of crimes by outcome</p>\n        <BarChart\n          width={width}\n          height={width}\n          data={outcome}\n        >\n          <XAxis dataKey=\"outcome\" />\n          <YAxis type=\"number\" yAxisId={0} />\n          <Tooltip />\n          <CartesianGrid stroke=\"#f5f5f5\" />\n          <Bar type=\"monotone\" dataKey=\"count\" fill=\"#38abc8\" yAxisId={0} />\n        </BarChart>\n      </StyledGraph>\n    }\n  </div>);\n}\n\nexport default Graphs;\n","// @flow\n\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport styled from 'styled-components';\n\nimport {\n  AnalysePageProps as Props,\n  AnalysePageState as State,\n} from '../../utils/types';\n\nimport {\n  Modal,\n} from '../../components';\n\nimport News from './news';\nimport Graphs from './graphs';\n\nconst StyledTabs = styled.div`\n  position: relative;\n  height: 100%;\n\n  .tabs {\n    overflow: hidden;\n    background-color: #f1f1f1;\n    border: 1px solid #ccc;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n\n    button {\n      background-color: inherit;\n      // float: left;\n      border: none;\n      outline: none;\n      cursor: pointer;\n      padding: 14px 16px;\n      transition: 0.3s;\n      font-size: medium;\n\n      &:hover {\n        background-color: #ddd;\n      }\n\n      &.active {\n        background-color: #ccc;\n      }\n    }\n  }\n\n  .tab {\n    display: none;\n    // padding: 6px 12px;\n    width: 100%;\n    box-sizing: border-box;\n    border: 1px solid #ccc;\n    border-top: none;\n\n    position: absolute;\n    top: 3rem;\n    bottom: 0;\n    overflow: auto;\n\n    animation: fadeEffect 1s;\n    @keyframes fadeEffect {\n      from {\n        opacity: 0;\n      }\n      to {\n        opacity: 1;\n      }\n    }\n\n    &.active {\n      display: block;\n    }\n  }\n`;\n\nclass AnalysePage extends React.PureComponent<Props, State> {\n  constructor() {\n    super();\n\n    this.state = {\n      show: false,\n      select: 0,\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!prevState.show && !this.state.show) {\n      const {\n        graph,\n        news,\n      } = this.props;\n\n      this.setState({\n        show: (!!graph) || (!!news),\n      });\n    }\n  }\n\n  toggleShow = () => this.setState({ show: !this.state.show })\n\n  select = (select) => () => this.setState({ select });\n\n  render(){\n    const {\n      graph,\n      news,\n      street,\n    } = this.props;\n\n    const {\n      show,\n      select,\n    } = this.state;\n\n    return (<Modal\n      title={street.name}\n      show={show}\n      onClose={this.toggleShow}\n      fixedBottom\n    >\n      <StyledTabs>\n        <div className=\"tabs\">\n          <button className={`${select === 0 ? 'active' : ''}`} onClick={this.select(0)}>Graphs</button>\n          <button className={`${select === 1 ? 'active' : ''}`} onClick={this.select(1)}>News</button>\n        </div>\n        <div className={`tab ${select === 0 ? 'active' : ''}`}>\n          <Graphs\n            graph={graph}\n          />\n        </div>\n        <div className={`tab ${select === 1 ? 'active' : ''}`}>\n          <News\n            news={news}\n          />\n        </div>\n      </StyledTabs>\n    </Modal>);\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ...state.analyse,\n  }\n}\n\nexport default connect(mapStateToProps)(AnalysePage);","// @flow\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\n\nimport Header from './header';\nimport Search from '../SearchPage/page';\nimport LeafletMap from '../MapPage/page';\nimport Analyse from '../AnalysePage/page';\n\nconst AppDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\ntype Props = {};\n\nclass App extends Component<Props> {\n  render() {\n    return (\n      <AppDiv>\n        <Header />\n        <Search />\n        <LeafletMap />\n        <Analyse />\n      </AppDiv>\n    );\n  }\n}\n\nexport default App;\n","// @flow\nimport update from 'immutability-helper';\n\nimport {\n  LOAD_AVAILABILITY_SUCCESS,\n  LOAD_AVAILABILITY_FAILURE,\n  LOAD_CRIME_CATEGORY_SUCCESS,\n  LOAD_CRIME_CATEGORY_FAILURE,\n  SEARCH_REQUEST,\n  SEARCH_SUCCESS,\n  SEARCH_FAILURE,\n} from './actions';\n\nimport {\n  SearchReducerState as State,\n  Action,\n} from '../../utils/types';\n\nconst initialState = {\n  availability: [],\n  category: [],\n  crimes: [],\n  message: '',\n  loading: false,\n};\n\nexport default function searchReducer(state: State = initialState, action: Action): State {\n  switch(action.type) {\n    case SEARCH_REQUEST:\n      return update(state, {\n        $merge: {\n          ...action.data,\n          loading: true\n        }\n      });\n    case LOAD_AVAILABILITY_SUCCESS:\n      return update(state, {\n        availability: {$set: action.data},\n      });\n    case LOAD_CRIME_CATEGORY_SUCCESS:\n      return update(state, {\n        category: {$set: action.data},\n      });\n    case SEARCH_SUCCESS:\n      return update(state, {\n        crimes: {$set: action.data},\n        loading: {$set: false},\n      });\n    case LOAD_AVAILABILITY_FAILURE:\n    case LOAD_CRIME_CATEGORY_FAILURE:\n      return update(state, {\n        message: {$set: action.message}\n      });\n    case SEARCH_FAILURE:\n      return update(state, {\n        message: {$set: action.message},\n        loading: {$set: false},\n      });\n    default:\n      return state;\n  }\n}\n","// @flow\n\nimport update from 'immutability-helper';\n\nimport {\n  MapReducerState as State,\n  Action,\n} from '../../utils/types';\n\nimport {\n  SAVE_LOCATION,\n  INITIAL_CRIME_CIRCLES,\n  FILTER_CRIME_CIRCLES,\n} from './actions';\n\nconst initialState = {\n  latlng: {\n    lat: 51.505,\n    lng: -0.09,\n  },\n  crimes: [],\n  circles: [],\n};\n\nexport default function mapReducer(state: State = initialState, action: Action){\n  switch(action.type) {\n    case SAVE_LOCATION:\n      return update(state, {\n        latlng: {$set: action.data},\n      });\n    case INITIAL_CRIME_CIRCLES:\n      return update(state, {\n        crimes: {$set: action.data},\n        circles: {$set: action.data},\n      })\n    case FILTER_CRIME_CIRCLES:\n      const circles = state.crimes.filter(({ category }) => action.selected.includes(category));\n      return update(state, {\n        circles: {$set: circles},\n      });\n    default:\n      return state;\n  }\n}\n","// @flow\n\nimport update from 'immutability-helper';\n\nimport {\n  LOAD_GRAPHS_SUCCESS,\n  LOAD_GRAPHS_FAILURE,\n  LOAD_NEWS_SUCCESS,\n  LOAD_NEWS_FAILURE,\n  SAVE_STREET_DATA,\n} from './actions';\n\nimport {\n  AnalyseReducerState as State,\n  Action,\n} from '../../utils/types';\n\nconst initialState = {\n  graph: {\n    date: [],\n    category: [],\n    outcome: [],\n  },\n  street: {},\n  news: [],\n  message: '',\n}\n\nexport default function analyseReducer(state: State = initialState, action: Action): State {\n  switch(action.type){\n    case LOAD_GRAPHS_SUCCESS:\n      return update(state, {\n        graph: {$set: action.data}\n      });\n    case LOAD_NEWS_SUCCESS:\n      return update(state, {\n        news: {$set: action.data},\n      });\n    case SAVE_STREET_DATA:\n      return update(state, {\n        street: {$set: action.data}\n      })\n    case LOAD_NEWS_FAILURE:\n    case LOAD_GRAPHS_FAILURE:\n      return update(state, {\n        message: {$set: action.message},\n      });\n    default:\n      return state;\n  }\n};\n","// @flow\n\nimport { combineReducers } from 'redux';\n\nimport searchReducer from './SearchPage/reducer';\nimport mapReducer from './MapPage/reducer';\nimport analyseReducer from './AnalysePage/reducer';\n\nimport { reducer as formReducer } from 'redux-form';\n\nexport default combineReducers({\n  map: mapReducer,\n  search: searchReducer,\n  analyse: analyseReducer,\n  form: formReducer,\n});","import axios from 'axios';\n\nexport const api = {\n  police: 'https://data.police.uk/api',\n  guardian: 'https://content.guardianapis.com/search',\n  mapquest: 'https://open.mapquestapi.com/geocoding/v1',\n};\n\nexport const keys = {\n  guardian: '36ecd8a8-f9be-4d95-9643-4095fae41301',\n  mapquest: '7qAl9AvfefdHSIOkkLrVvSc466ZoHenG',\n}\n\nasync function checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else {\n    const error = new Error();\n    error.response = response;\n\n    try {\n      const body = await response.json();\n      error.body = body;\n      error.message = body.message || response.statusText;\n\n      throw error;\n    } catch (err) {\n      throw err;\n    }\n  }\n}\n\nfunction parseJSON(response){\n  if(response.status === 204 || response.status === 205){\n    return null;\n  }\n\n  return response;\n}\n\nexport function request(path, options) {\n  return axios.get(path, options)\n    .then(checkStatus)\n    .then(parseJSON);\n}","// @flow\n\nimport { fork, put, takeLatest, select, all } from 'redux-saga/effects';\nimport { api, keys, request } from '../../utils/request';\n\nimport {\n  LOAD_CRIME_CATEGORY_REQUEST,\n  SEARCH_REQUEST,\n  loadAvailabilitySuccess,\n  loadAvailabilityFailure,\n  loadCrimeCategorySuccess,\n  loadCrimeCategoryFailure,\n  searchSuccess,\n  searchFailure,\n} from './actions';\n\nimport {\n  saveLocation,\n  initialCrimeCircles,\n} from '../MapPage/actions';\n\nfunction* loadAvailability() {\n  try {\n    const response = yield request(`${api.police}/crimes-street-dates`);\n\n    yield put(loadAvailabilitySuccess(response.data));\n  } catch(err) { \n    console.log(err);\n    yield put(loadAvailabilityFailure(err.message));\n  }\n}\n\nfunction* loadCrimeCategory({ date: _date } = {}) {\n  try {\n    const date = _date || (new Date()).toLocaleDateString();\n\n    const response = yield request(`${api.police}/crime-categories?date=${date}`);\n\n    yield put(loadCrimeCategorySuccess(response.data));\n  } catch(err) { \n    console.log(err);\n    yield put(loadCrimeCategoryFailure(err.message));\n  }\n}\n\nfunction* search({\n  data: {\n    urls,\n    dates,\n    postcode,\n  }} = {}) {\n  try {\n    const { lat: _lat, lng: _lng } = yield select((state) => state.map.latlng);\n\n    let lat = _lat;\n    let lng = _lng;\n    if (postcode) {\n      const obj = {\n        options :{},\n        location: {\n          street: '',\n          city: '',\n          state: '',\n          postalCode: postcode,\n          adminArea1: 'GB',\n        }\n      };\n\n      const {\n        data: {\n          results,\n        } = {},\n      } = yield request(`${api.mapquest}/address?key=${keys.mapquest}&json=${JSON.stringify(obj)}`);\n\n      if (results && results.length > 0) {\n        const {\n          locations,\n        } = results[0];\n\n        lat = locations[0].latLng.lat;\n        lng = locations[0].latLng.lng;\n      }\n    }\n\n    if (lat && lng && dates && dates.length > 0) {\n      // const params = dates.flatMap((date) => {\n      //   return urls.map((url) => [date, url])\n      // }, []);\n\n      // const responses = yield all(params.map(([date, url]) =>\n      //     request(`${api.police}/crimes-street/${url}?lat=${lat}&lng=${lng}&date=${date}`)\n      //   )\n      // );\n\n      const responses = yield all(dates.map((date) =>\n          request(`${api.police}/crimes-street/all-crime?lat=${lat}&lng=${lng}&date=${date}`)\n        )\n      );\n\n      const data = responses && responses.reduce((acc, response) => {\n        return [...acc, ...(response && response.data)];\n      }, []);\n\n      yield put(saveLocation({ lat, lng }));\n      yield put(searchSuccess(data));\n      yield put(initialCrimeCircles(data))\n    } else {\n      yield put(searchFailure('There is no position info! Please, click the map and tell me where you want to know'));\n    }\n  } catch(err) { \n    console.log(err);\n    yield put(searchFailure(err.message));\n  }\n}\n\nexport default function* saga(): Generator<any, void, any> {\n  yield fork(loadAvailability);\n  yield fork(loadCrimeCategory);\n\n  yield takeLatest(LOAD_CRIME_CATEGORY_REQUEST, loadCrimeCategory);\n  yield takeLatest(SEARCH_REQUEST, search);\n}","// @flow\n\nimport { takeLatest, select, put } from 'redux-saga/effects';\nimport { api, request, keys } from '../../utils/request';\n\nimport {\n  LOAD_GRAPHS_REQUEST,\n  loadGraphsSuccess,\n  loadGraphsFailure,\n  LOAD_NEWS_REQUEST,\n  loadNewsFailure,\n  loadNewsSuccess,\n  saveStreetData,\n} from './actions';\n\nfunction* loadGraph({ street }){\n  try {\n    const crimes = yield select((state) => state.search.crimes);\n    const selectedCrimes = crimes && crimes.filter(({\n      location: {\n        street: {\n          id,\n        } = {},\n      } = {},\n    }) => id === street.id);\n\n    const crimesByDate = selectedCrimes.reduce((acc, ele) => ({\n      ...acc,\n      [ele.month]: acc[ele.month] ? acc[ele.month] + 1 : 1, \n    }), {});\n\n    const dates = yield select((state) => state.search.dates);\n\n    const date = dates.map((d) => ({\n      date: d,\n      count: crimesByDate[d] || 0,\n    }));\n\n    const category = Object.entries(selectedCrimes.reduce((acc, ele) => ({\n      ...acc,\n      [ele.category]: acc[ele.category] ? acc[ele.category] + 1 : 1,\n    }), {})).map(([category, count]) => ({ category, count }));\n\n    // console.log(category);\n\n    const outcome = Object.entries(selectedCrimes.reduce((acc, ele) => {\n      const {\n        outcome_status,\n        outcomes: {\n          category: outcome,\n        } = outcome_status || {},\n      } = ele;\n\n      if (outcome) {\n        return {\n          ...acc,\n          [outcome]: acc[outcome] ? acc[outcome] + 1 : 1,\n        };\n      }\n      return acc;\n    }, {})).map(([outcome, count]) => ({ outcome, count }));\n\n    // console.log(outcome);\n\n    yield put(loadGraphsSuccess({\n      date,\n      category,\n      outcome,\n    }));\n\n    yield put(saveStreetData(street));\n  } catch(err) {\n    yield put(loadGraphsFailure(err.message));\n  }\n}\n\nfunction* loadNews({ latlng }) {\n  try {\n    const addressUrl = `${api.mapquest}/reverse?key=${keys.mapquest}&location=${latlng.join(',')}&includeRoadMetadata=true&includeNearestIntersection=true`;\n\n    const {\n      data: {\n        results: address = [],\n      } = {},\n    } = yield request(addressUrl);\n\n    const { locations = [] } = address[0];\n    const { street, adminArea5, postalCode } = locations[0];\n\n    const query = `${adminArea5} AND ${street ? street : postalCode}`;\n    const dates = yield select((state) => state.search.dates);\n\n    const newsUrl = `${api.guardian}?q=${query}&from-date=${dates[0]}-01&api-key=${keys.guardian}`;\n\n    const {\n      data: {\n        response: {\n          results = [],\n        },\n      } = {},\n    } = yield request(newsUrl);\n\n    results.sort((a, b) => b.webPublicationDate.localeCompare(a.webPublicationDate));\n\n    yield put(loadNewsSuccess(results));\n  } catch (err) {\n    console.error(err);\n    yield put(loadNewsFailure(err.message));\n  }\n}\n\nexport default function* saga(): Generator<any, void, any>{\n  yield takeLatest(LOAD_GRAPHS_REQUEST, loadGraph);\n  yield takeLatest(LOAD_NEWS_REQUEST, loadNews);\n}","// @flow\n\nimport { all, fork } from 'redux-saga/effects';\n\nimport searchSaga from './SearchPage/saga';\nimport analyseSaga from './AnalysePage/saga';\n\nexport default function* sagas (): Generator<any, void, any>  {\n  yield all([\n    searchSaga,\n    analyseSaga\n  ].map(fork));\n}","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport './index.css';\n\nimport App from './containers/AppPage';\n\nimport reducers from './containers/reducers';\nimport sagas from './containers/sagas';\n\nimport * as serviceWorker from './serviceWorker';\n\nconst saga = createSagaMiddleware();\n\nconst store = createStore(\n  reducers,\n  composeWithDevTools(applyMiddleware(saga)),\n);\n\nsaga.run(sagas);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}