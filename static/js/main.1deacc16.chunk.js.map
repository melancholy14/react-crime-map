{"version":3,"sources":["containers/SearchPage/actions.js","containers/MapPage/actions.js","utils/contants.js","components/modal.js","components/table.js","containers/SearchPage/page.js","containers/AnalysePage/actions.js","containers/MapPage/page.js","containers/AnalysePage/news.js","containers/AnalysePage/graphs.js","containers/AnalysePage/page.js","containers/App.js","containers/SearchPage/reducer.js","containers/MapPage/reducer.js","containers/AnalysePage/reducer.js","containers/reducers.js","utils/request.js","containers/SearchPage/saga.js","containers/AnalysePage/saga.js","containers/sagas.js","serviceWorker.js","index.js"],"names":["LOAD_AVAILABILITY_SUCCESS","LOAD_AVAILABILITY_FAILURE","LOAD_CRIME_CATEGORY_REQUEST","LOAD_CRIME_CATEGORY_SUCCESS","LOAD_CRIME_CATEGORY_FAILURE","SEARCH_REQUEST","SEARCH_SUCCESS","SEARCH_FAILURE","searchSuccess","data","dateLength","arguments","length","undefined","type","searchFailure","message","SAVE_LOCATION","SELECT_CRIME_CATEGORY","categoryColors","all-crime","anti-social-behaviour","bicycle-theft","burglary","criminal-damage-arson","drugs","other-theft","possession-of-weapons","public-order","robbery","shoplifting","theft-from-the-person","vehicle-crime","violent-crime","other-crime","ModalDiv","styled","div","_templateObject","Modal","_ref","title","show","onClose","children","react_default","a","createElement","className","concat","onClick","TableDiv","table_templateObject","Table","Tr","_ref2","Th","_ref3","Td","_ref4","SearchContainer","page_templateObject","allCrime","url","name","Search","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","changeDate","evt","value","target","minmax","toConsumableArray","state","sort","b","date","objectSpread","defineProperty","setState","changeCategory","crimeCategory","crimeCheckboxes","map","ele","checked","checkboxReadOnly","checkCategory","list","reduce","acc","props","onSelectCrimeCategory","search","preventDefault","_this$state","dates","filter","params","onSearch","toggleModal","showError","prevProps","prevAvailability","availability","prevCrimeCategory","prevMessage","_this$props","min","max","readOnly","_this2","_this$state2","_this$state2$date","_this$state2$date$dat","_this$props2","_this$props2$crimeCat","htmlFor","id","onChange","key","style","backgroundColor","modal","React","PureComponent","connect","dispatch","onLoadCrimeCategory","param","LOAD_GRAPHS_REQUEST","LOAD_GRAPHS_SUCCESS","LOAD_GRAPHS_FAILURE","LOAD_NEWS_REQUEST","LOAD_NEWS_SUCCESS","LOAD_NEWS_FAILURE","LeafletMap","handleClick","latlng","onSaveLocation","handleCircle","onLoadGraphRequest","onLoadNewsRequest","selectedCrimes","Map","center","ref","val","zoom","TileLayer","attribution","Marker","position","lat","lng","Popup","category","street","count","_ref$opacity","opacity","Circle","fillColor","fillOpacity","stroke","radius","loadGraphsRequest","loadNewsRequest","News","news","sectionName","pillarName","webTitle","webUrl","webPublicationDate","table_Table","table_Tr","table_Th","table_Td","Date","toLocaleDateString","href","Graphs","outcome","width","window","innerWidth","LineChart","height","XAxis","dataKey","YAxis","yAxisId","Tooltip","CartesianGrid","Line","BarChart","Bar","fill","AnalyseContainer","AnalysePage_page_templateObject","AnalysePage","dateGraph","categoryGraph","outcomeGraph","graphs","AnalysePage_news","analyse","AppDiv","App_templateObject","App","page","MapPage_page","AnalysePage_page","Component","initialState","searchedCrimes","combineReducers","action","crime","find","values","_ele$location","location","latitude","longitude","_ele$location$street","parseFloat","crimes","api","police","guardian","mapquest","keys","checkStatus","_callee","response","error","body","regenerator_default","wrap","_context","prev","next","status","abrupt","Error","json","sent","statusText","t0","stop","parseJSON","request","path","options","axios","get","then","loadAvailability","loadCrimeCategory","saga","put","console","log","_marked","_date","_args2","_context2","_marked2","responses","_context3","select","all","_marked3","_context4","fork","takeLatest","_marked4","loadGraph","loadNews","streetId","_ref2$location","_ref2$location$street","entries","month","slicedToArray","_ref5","_ref6","outcome_status","_ele$outcomes","outcomes","_ref7","_ref8","saga_marked","_ref9","addressUrl","_ref10","_ref10$data","_ref10$data$results","_address$0$locations","_locations$","adminArea5","postalCode","query","newsUrl","_ref11","_ref11$data","_ref11$data$response$","results","join","locations","saga_marked2","saga_marked3","sagas","searchSaga","analyseSaga","sagas_marked","Boolean","hostname","match","createSagaMiddleware","store","createStore","reducers","composeWithDevTools","applyMiddleware","run","ReactDOM","render","es","containers_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1deacc16.chunk.js","sourcesContent":["export const LOAD_AVAILABILITY_SUCCESS = 'containers/SearchPage/actions/LOAD_AVAILABILITY_SUCCESS';\nexport const LOAD_AVAILABILITY_FAILURE = 'containers/SearchPage/actions/LOAD_AVAILABILITY_FAILURE';\n\nexport const LOAD_CRIME_CATEGORY_REQUEST = 'containers/SearchPage/actions/LOAD_CRIME_CATEGORY_REQUEST';\nexport const LOAD_CRIME_CATEGORY_SUCCESS = 'containers/SearchPage/actions/LOAD_CRIME_CATEGORY_SUCCESS';\nexport const LOAD_CRIME_CATEGORY_FAILURE = 'containers/SearchPage/actions/LOAD_CRIME_CATEGORY_FAILURE';\n\nexport const SEARCH_REQUEST = 'containers/SearchPage/actions/SEARCH_REQUEST';\nexport const SEARCH_SUCCESS = 'containers/SearchPage/actions/SEARCH_SUCCESS';\nexport const SEARCH_FAILURE = 'containers/SearchPage/actions/SEARCH_FAILURE';\n\nexport function loadAvailabilitySuccess (data) {\n  return {\n    type: LOAD_AVAILABILITY_SUCCESS,\n    data,\n  }\n}\n\nexport function loadAvailabilityFailure (message) {\n  return {\n    type: LOAD_AVAILABILITY_FAILURE,\n    message,\n  }\n}\n\nexport function loadCrimeCategoryRequest (date) {\n  return {\n    type: LOAD_CRIME_CATEGORY_REQUEST,\n    date,\n  }\n}\n\nexport function loadCrimeCategorySuccess (data) {\n  return {\n    type: LOAD_CRIME_CATEGORY_SUCCESS,\n    data,\n  }\n}\n\nexport function loadCrimeCategoryFailure (message) {\n  return {\n    type: LOAD_CRIME_CATEGORY_FAILURE,\n    message,\n  }\n}\n\nexport function searchRequest (params) {\n  return {\n    type: SEARCH_REQUEST,\n    params,\n  }\n}\n\nexport function searchSuccess (data, dateLength = 1) {\n  return {\n    type: SEARCH_SUCCESS,\n    data,\n    dateLength,\n  }\n}\n\nexport function searchFailure (message) {\n  return {\n    type: SEARCH_FAILURE,\n    message,\n  }\n}","export const SAVE_LOCATION = 'containers/MapPage/actions/SAVE_LOCATION';\n\nexport const SELECT_CRIME_CATEGORY = 'containers/MapPage/actions/SELECT_CRIME_CATEGORY';\n\nexport function saveLocation (data) {\n  return {\n    type: SAVE_LOCATION,\n    data,\n  }\n}\n\nexport function selectCrimeCategory (data) {\n  return {\n    type: SELECT_CRIME_CATEGORY,\n    data,\n  }\n}","export const outcomes = [\n  { code: \"awaiting-court-result\", name: \"Awaiting court outcome\" },\n  { code: \"court-result-unavailable\", name: \"Court result unavailable\" },\n  { code: \"unable-to-proceed\", name: \"Court case unable to proceed\" },\n  { code: \"local-resolution\", name: \"Local resolution\" },\n  { code: \"no-further-action\", name: \"Investigation complete; no suspect identified\" },\n  { code: \"deprived-of-property\", name: \"Offender deprived of property\" },\n  { code: \"fined\", name: \"Offender fined\" },\n  { code: \"absolute-discharge\", name: \"Offender given absolute discharge\" },\n  { code: \"cautioned\", name: \"Offender given a caution\" },\n  { code: \"drugs-possession-warning\", name: \"Offender given a drugs possession warning\" },\n  { code: \"penalty-notice-issued\", name: \"Offender given a penalty notice\" },\n  { code: \"community-penalty\", name: \"Offender given community sentence\" },\n  { code: \"conditional-discharge\", name: \"Offender given conditional discharge\" },\n  { code: \"suspended-sentence\", name: \"Offender given suspended prison sentence\" },\n  { code: \"imprisoned\", name: \"Offender sent to prison\" },\n  { code: \"other-court-disposal\", name: \"Offender otherwise dealt with\" },\n  { code: \"compensation\", name: \"Offender ordered to pay compensation\" },\n  { code: \"sentenced-in-another-case\", name: \"Suspect charged as part of another case\" },\n  { code: \"charged\", name: \"Suspect charged\" },\n  { code: \"not-guilty\", name: \"Defendant found not guilty\" },\n  { code: \"sent-to-crown-court\", name: \"Defendant sent to Crown Court\" },\n  { code: \"unable-to-prosecute\", name: \"Unable to prosecute suspect\" },\n  { code: \"formal-action-not-in-public-interest\", name: \"Formal action is not in the public interest\" },\n  { code: \"action-taken-by-another-organisation\", name: \"Action to be taken by another organisation\" },\n  { code: \"further-investigation-not-in-public-interest\", name: \"Further investigation is not in the public interest\" },\n  { code: \"under-investigation\", name: \"Under investigation\" },\n  { code: \"status-update-unavailable\", name: \"Status update unavailable\" },\n];\n\nexport const categoryColors = {\n  \"all-crime\": \"#d17f68\",\n  \"anti-social-behaviour\": \"#73b638\",\n  \"bicycle-theft\": \"#a45dcf\",\n  \"burglary\": \"#5fbc6e\",\n  \"criminal-damage-arson\": \"#c0489a\",\n  \"drugs\": \"#4b7d3c\",\n  \"other-theft\": \"#666dc6\",\n  \"possession-of-weapons\": \"#d99938\",\n  \"public-order\": \"#5e99d2\",\n  \"robbery\": \"#cc4f32\",\n  \"shoplifting\": \"#49b9a9\",\n  \"theft-from-the-person\": \"#c7496a\",\n  \"vehicle-crime\": \"#adac4d\",\n  \"violent-crime\": \"#c581bb\",\n  \"other-crime\": \"#8b6c2f\",\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst ModalDiv = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n\n  .modal-title {\n    height: 3rem;\n    background-color: black;\n    color: white;\n    vertical-align: middle;\n    line-height: 3rem;\n    text-align: center;\n  }\n\n  .modal-main {\n    position: fixed;\n    background: white;\n    width: 100%;\n    height: calc(100% - 6rem);\n    overflow: auto;\n    top: 3rem;\n    left: 50%;\n    transform: translateX(-50%);\n  }\n\n  .modal-footer {\n    position: fixed;\n    top: calc(100% - 3rem);\n    height: 3rem;\n    background-color: white;\n    width: 100%;\n    line-height: 3rem;\n    vertical-align: middle;\n    text-align: center;\n    border-top: 1px solid black;\n    box-sizing: border-box;\n\n    .close {\n      background-color: black;\n      color: white;\n      font-weight: bolder;\n      padding: 0.5rem 1rem;\n    }\n  }\n`;\n\nconst Modal = ({ title, show, onClose, children }) => (\n  <ModalDiv className={`display-${show ? 'block' : 'none'}`}>\n    <div className=\"modal-title\">{ title }</div>\n    <div className=\"modal-main\">\n      { children }\n    </div>\n    <div className=\"modal-footer\">\n      <button className=\"close\" onClick={onClose}>Close</button>\n    </div>\n  </ModalDiv>\n);\n\nModal.propTypes = {\n  title: PropTypes.string,\n  show: PropTypes.bool,\n  onClose: PropTypes.func,\n  children: PropTypes.any,\n};\n\nexport default Modal;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst TableDiv = styled.div`\n  margin: 0.5rem auto;\n  display: table;\n\n  box-shadow: 1.5px 2px 1px 1px;\n  border-radius: 0.5rem;\n  padding: 0.5rem;\n\n  .tr {\n    display: table-row;\n  }\n\n  .th {\n    display: table-cell;\n    font-weight: 600;\n  }\n\n  .td {\n    display: table-cell;\n  }\n`;\n\nconst Table = ({ children }) => (<TableDiv>{ children }</TableDiv>);\nTable.propTypes = {\n  children: PropTypes.any,\n};\n\nconst Tr = ({ children }) => (<div className=\"tr\">{ children }</div>);\nTr.propTypes = {\n  children: PropTypes.any,\n};\n\nconst Th = ({ children }) => (<div className=\"th\">{ children }</div>);\nTh.propTypes = {\n  children: PropTypes.any,\n};\n\nconst Td = ({ children }) => (<div className=\"td\">{ children }</div>);\nTd.propTypes = {\n  children: PropTypes.any,\n};\n\nexport {\n  Table,\n  Tr, Th, Td,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport { connect } from 'react-redux';\n\nimport {\n  loadCrimeCategoryRequest,\n  searchRequest,\n} from './actions';\n\nimport {\n  selectCrimeCategory,\n} from '../MapPage/actions';\n\nimport {\n  categoryColors,\n} from '../../utils/contants';\n\nimport {\n  Modal,\n} from '../../components';\n\nconst SearchContainer = styled.div`\n    order: 1;\n    margin: 0.5rem;\n    padding: 0.5rem;\n\n    .grid-container {\n      display: grid;\n      grid-template-rows: 2rem 2rem auto 2rem;\n      grid-template-columns: 4.5rem auto;\n\n      .grid-item {\n        padding: 0.5rem;\n        \n        &.whole-row {\n          grid-column-start: 1;\n          grid-column-end: 3;\n\n          .each-crime {\n            display: inline-block;\n            min-width: 50%;\n            font-size: small;\n            line-height: 1rem;\n            vertical-align: middle;\n\n            label {\n              font-size: smaller;\n            }\n\n            .color {\n              width: 0.75rem;\n              height: 0.75rem;\n              display: inline-block;\n              border-radius: 0.5rem;\n              margin: 0 0.3rem;\n            }\n          }\n        }\n      }\n\n      & > label {\n        font-size: smaller;\n        text-transform: capitalize;\n      }\n    }\n\n    button {\n      background-color: black;\n      color: white;\n      padding: 0.3rem 1rem;\n      font-weight: bolder;\n    }\n`;\n\nconst allCrime = {\n  url: 'all-crime',\n  name: 'All crime'\n};\n\nclass Search extends React.PureComponent {\n  static propTypes = {\n    availability: PropTypes.array,\n    crimeCategory: PropTypes.array,\n    crimes: PropTypes.array,\n    onLoadCrimeCategory: PropTypes.func,\n    onSelectCrimeCategory: PropTypes.func,\n  };\n\n  constructor() {\n    super();\n\n    this.state = {\n      date: {},\n      minmax: [],\n      message: null,\n      checkboxReadOnly: false,\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      availability: prevAvailability,\n      crimeCategory: prevCrimeCategory,\n      message: prevMessage,\n    } = prevProps;\n\n    const {\n      availability,\n      crimeCategory,\n      message,\n    } = this.props;\n\n    if (prevAvailability !== availability) {\n      const date = availability.reduce((acc, ele) => {\n        return {\n          min: (acc.min && acc.min < ele.date) ? acc.min : ele.date,\n          max: (acc.max && acc.max > ele.date) ? acc.max : ele.date,\n          dates: acc.dates ? [...acc.dates, ele.date] : [ele.date],\n        }\n      }, {});\n\n      const minmax = [date.min, date.max];\n\n      this.setState({\n        minmax,\n        date,\n      });\n    }\n\n    if (prevCrimeCategory !== crimeCategory) {\n      const crimeCheckboxes = this.props.crimeCategory.reduce((acc, ele) => {\n        if (ele.url !== allCrime.url) {\n          return [\n            ...acc,\n            {\n              ...ele,\n              checked: true,\n              readOnly: true,\n            }\n          ];\n        }\n        return acc;\n      }, []);\n\n      this.setState({\n        crimeCheckboxes,\n      });\n    }\n    \n    if (prevMessage !== message) {\n      this.setState({\n        showError: true,\n      });\n    }\n  }\n\n  changeDate = (type) => (evt) => {\n    const { value } = evt.target;\n\n    if(value) {\n      const minmax = [...this.state.minmax];\n      minmax[type === 'min' ? 0 : 1] = value;\n      minmax.sort((a, b) => a > b);\n\n      const date = {\n        ...this.state.date,\n        [type]: value,\n      };\n\n      this.setState({\n        minmax,\n        date,\n      });\n    }\n  }\n\n  changeCategory = (evt) => {\n    this.crimeCategory = evt.target.value;\n\n    const crimeCheckboxes = this.state.crimeCheckboxes.map((ele) => {\n      const checked = (evt.target.value === allCrime.url) ? true : (ele.url === evt.target.value);\n      return {\n        ...ele,\n        checked,\n      }\n    });\n\n    this.setState({\n      crimeCheckboxes,\n      checkboxReadOnly: (evt.target.value !== allCrime.url),\n    });\n  }\n\n  checkCategory = (url) => (evt) => {\n    const crimeCheckboxes = this.state.crimeCheckboxes.map((ele) => {\n      if (ele.url === url) {\n        return {\n          ...ele,\n          checked: evt.target.checked,\n        }\n      } \n      return ele;\n    });\n\n    this.setState({\n      crimeCheckboxes,\n    });\n\n    const list = crimeCheckboxes.reduce((acc, ele) => {\n      if(ele.checked) {\n        return [...acc, ele.url];\n      }\n      return acc;\n    }, []);\n\n    this.props.onSelectCrimeCategory(list);\n  }\n\n  search = (evt) => {\n    evt.preventDefault();\n\n    const {\n      minmax,\n      date,\n    } = this.state;\n\n    const dates = date.dates.filter((ele) => minmax[0] <= ele && ele <= minmax[1]).sort((a, b) => a > b);\n    const params = {\n      url: this.crimeCategory || allCrime.url,\n      dates,\n    };\n\n    this.props.onSearch(params);\n\n    this.setState({ checkboxReadOnly: params.url !== allCrime.url });\n  }\n\n  toggleModal = () => this.setState({ showError: !this.state.showError })\n\n  render() {\n    const {\n      date: {\n        min,\n        max,\n        dates = [],\n      } = {},\n      crimeCheckboxes,\n      showError,\n      checkboxReadOnly,\n    } = this.state;\n\n    const {\n      crimeCategory = [allCrime],\n      message,\n    } = this.props;\n\n    return (\n      <SearchContainer>\n        <form className=\"grid-container\">\n          <label htmlFor=\"select_date\" className=\"grid-item\">date</label>\n          <div className=\"grid-item\">\n            <select id=\"select_date\" onChange={this.changeDate('min')} value={min}>\n            {\n              dates.map((ele) => <option value={ele} key={ele}>{ele}</option>)\n            }\n            </select>\n            <span> ~ </span>\n            <select onChange={this.changeDate('max')} value={max}>\n            {\n              dates.map((ele) => <option value={ele} key={ele}>{ele}</option>)\n            }\n            </select>\n          </div>\n          <label htmlFor=\"select_category\" className=\"grid-item\">category</label>\n          <select id=\"select_category\" onChange={this.changeCategory} className=\"grid-item\">\n          {\n            crimeCategory && crimeCategory.map(({ url, name }) =>\n              <option\n                key={url}\n                value={url}\n              >\n                {name}\n              </option>\n            )\n          }\n          </select>\n          { crimeCheckboxes &&\n          <div className=\"grid-item whole-row\">\n            {\n              crimeCheckboxes && crimeCheckboxes.map((ele) => (<div className=\"each-crime\" key={ele.url}>\n                <input\n                  type=\"checkbox\"\n                  value={ele.url}\n                  id={`checkbox_${ele.url}`}\n                  onChange={this.checkCategory(ele.url)}\n                  checked={ele.checked}\n                  readOnly={checkboxReadOnly}\n                />\n                <label htmlFor={`checkbox_${ele.url}`}>{ele.name}</label>\n                <span className=\"color\" style={{backgroundColor: categoryColors[ele.url]}}></span>\n              </div>))\n            }\n          </div> }\n          <button onClick={this.search} className=\"grid-item whole-row\">SEARCH</button>\n        </form>\n        <Modal\n          show={showError}\n          onClose={this.toggleModal}\n        >\n          {message}\n        </Modal>\n      </SearchContainer>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ...state.search,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onLoadCrimeCategory: () => dispatch(loadCrimeCategoryRequest()),\n    onSearch: (param) => dispatch(searchRequest(param)),\n    onSelectCrimeCategory: (list) => dispatch(selectCrimeCategory(list)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);","export const LOAD_GRAPHS_REQUEST = 'containers/AnalysePage/LOAD_GRAPHS_REQUEST';\nexport const LOAD_GRAPHS_SUCCESS = 'containers/AnalysePage/LOAD_GRAPHS_SUCCESS';\nexport const LOAD_GRAPHS_FAILURE = 'containers/AnalysePage/LOAD_GRAPHS_FAILURE';\n\nexport const LOAD_NEWS_REQUEST = 'containers/AnalysePage/LOAD_NEWS_REQUEST';\nexport const LOAD_NEWS_SUCCESS = 'containers/AnalysePage/LOAD_NEWS_SUCCESS';\nexport const LOAD_NEWS_FAILURE = 'containers/AnalysePage/LOAD_NEWS_FAILURE';\n\nexport function loadGraphsRequest(id) {\n  return {\n    type: LOAD_GRAPHS_REQUEST,\n    id,\n  }\n}\n\nexport function loadGraphsSuccess(data) {\n  return {\n    type: LOAD_GRAPHS_SUCCESS,\n    data,\n  }\n}\n\nexport function loadGraphsFailure(message) {\n  return {\n    type: LOAD_GRAPHS_FAILURE,\n    message,\n  }\n}\n\nexport function loadNewsRequest(latlng) {\n  return {\n    type: LOAD_NEWS_REQUEST,\n    latlng,\n  }\n}\n\nexport function loadNewsSuccess(news) {\n  return {\n    type: LOAD_NEWS_SUCCESS,\n    news,\n  }\n}\n\nexport function loadNewsFailure(message) {\n  return {\n    type: LOAD_NEWS_FAILURE,\n    message,\n  }\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport {\n  Map, TileLayer,\n  Marker, Popup,\n  Circle,\n} from 'react-leaflet';\n\nimport {\n  categoryColors,\n} from '../../utils/contants';\n\nimport {\n  loadGraphsRequest,\n  loadNewsRequest,\n} from '../AnalysePage/actions';\n\nimport {\n  saveLocation,\n} from './actions';\n\nconst attribution = \"&amp;copy <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\";\nconst url = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\n\nclass LeafletMap extends React.PureComponent {\n  static propTypes = {\n    latlng: PropTypes.shape({\n      lat: PropTypes.number,\n      lng: PropTypes.number,\n    }),\n    selectedCrimes: PropTypes.array,\n    onSaveLocation: PropTypes.func,\n  }\n\n  handleClick = (evt) => {\n    const { latlng } = evt;\n    this.props.onSaveLocation(latlng);\n  }\n\n  handleCircle = (id, latlng) => () => {\n    // evt.preventDefault();\n\n    this.props.onLoadGraphRequest(id);\n    this.props.onLoadNewsRequest(latlng);\n  }\n\n  render() {\n    const {\n      latlng,\n      selectedCrimes,\n    } = this.props;\n\n    return (\n      <Map\n        center={latlng}\n        ref={(val) => { this.map = val; }}\n        zoom={13}\n        onClick={this.handleClick}\n      >\n        <TileLayer\n          attribution={attribution}\n          url={url}\n        />\n        { latlng &&\n        <Marker position={[latlng.lat, latlng.lng]}>\n          <Popup>\n            {`You clicked here!!\n            Latitude: ${latlng.lat}\n            Longitude: ${latlng.lng}`}\n          </Popup>\n        </Marker> }\n        {\n          selectedCrimes && selectedCrimes.map(({category, latlng, street, count, opacity = 0.5}) => \n          <Circle\n            fillColor={categoryColors[category]}\n            fillOpacity={opacity}\n            stroke={false}\n            radius={count < 10 ? count * 25 : 250}\n            center={latlng}\n            key={latlng}\n            onClick={this.handleCircle(street.id, latlng)}\n          >\n            <Popup>\n            {`Street Id: ${street.id}\n            Street Name: ${street.name}\n            Crime Count: ${count}`}\n            </Popup>\n          </Circle>)\n        }\n      </Map>\n    );\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    ...state.map,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onSaveLocation: (latlng) => dispatch(saveLocation(latlng)),\n    onLoadGraphRequest: (id) => dispatch(loadGraphsRequest(id)),\n    onLoadNewsRequest: (latlng) => dispatch(loadNewsRequest(latlng)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LeafletMap);","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Table, Tr, Th, Td,\n} from '../../components';\n\nconst News = ({ news }) => (\n  <div>\n    {\n      news && news.map(({id, sectionName, pillarName, webTitle, webUrl, webPublicationDate }) =>\n        (<Table key={id}>\n          <Tr>\n            <Th>Date</Th>\n            <Td>{ new Date(webPublicationDate).toLocaleDateString() }</Td>\n          </Tr>\n          <Tr>\n            <Th>Section</Th>\n            <Td>{ sectionName }</Td>\n          </Tr>\n          <Tr>\n            <Th>Pillar</Th>\n            <Td>{ pillarName }</Td>\n          </Tr>\n          <Tr>\n            <Th>Title</Th>\n            <Td><a href={webUrl} target=\"_new\">{ webTitle }</a></Td>\n          </Tr>\n        </Table>\n      ))\n    }\n  </div>\n);\n\nNews.propTypes = {\n  crimes: PropTypes.array,\n}\n\nexport default News;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  LineChart, Line,\n  BarChart, Bar,\n  XAxis, YAxis,\n  Tooltip,\n  CartesianGrid,\n} from 'recharts';\n\nconst Graphs = ({ date, category, outcome }) => {\n  const width = window.innerWidth - 35;\n\n  return (<div>\n    { date && \n    <div>\n      <p>The number of crimes per Date</p>\n      <LineChart\n        width={width}\n        height={width}\n        data={date}\n      >\n        <XAxis dataKey=\"date\" />\n        <YAxis type=\"number\" yAxisId={0} />\n        <Tooltip />\n        <CartesianGrid stroke=\"#f5f5f5\" />\n        <Line type=\"monotone\" dataKey=\"count\" stroke=\"#ff7300\" yAxisId={0} />\n      </LineChart>\n      </div>\n    }\n    { category && category.length > 1 &&\n      <div>\n        <p>The number of crimes per Category</p>\n        <BarChart\n          width={width}\n          height={width}\n          data={category}\n        >\n          <XAxis dataKey=\"category\" />\n          <YAxis type=\"number\" yAxisId={0} />\n          <Tooltip />\n          <CartesianGrid stroke=\"#f5f5f5\" />\n          <Bar type=\"monotone\" dataKey=\"count\" fill=\"#387908\" yAxisId={0} />\n        </BarChart>\n      </div>\n    }\n    { outcome &&\n      <div>\n        <p>The ratio of crimes per Outcome</p>\n        <BarChart\n          width={width}\n          height={width}\n          data={outcome}\n        >\n          <XAxis dataKey=\"outcome\" />\n          <YAxis type=\"number\" yAxisId={0} />\n          <Tooltip />\n          <CartesianGrid stroke=\"#f5f5f5\" />\n          <Bar type=\"monotone\" dataKey=\"count\" fill=\"#38abc8\" yAxisId={0} />\n        </BarChart>\n      </div>\n    }\n  </div>);\n}\n\nGraphs.propTypes = {\n  date: PropTypes.array,\n  category: PropTypes.array,\n  outcome: PropTypes.array,\n}\n\nexport default Graphs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport styled from 'styled-components';\n\nimport News from './news';\nimport Graphs from './graphs';\n\nconst AnalyseContainer = styled.div`\n  .tr {\n    line-height: 2rem;\n\n    .th, .td {\n      padding: 0 0.5rem;\n      font-size: smaller;\n    }\n  }\n`;\n\nclass AnalysePage extends React.PureComponent {\n  static propTypes = {\n    dateGraph: PropTypes.array,\n    categoryGraph: PropTypes.array,\n    outcomeGraph: PropTypes.array,\n    crimeTable: PropTypes.array,\n    news: PropTypes.array,\n  };\n\n  render(){\n    const {\n      dateGraph,\n      categoryGraph,\n      outcomeGraph,\n      news,\n    } = this.props;\n\n    return (<AnalyseContainer>\n      { dateGraph &&<h3>Graphs</h3> }\n      <Graphs\n        date={dateGraph}\n        category={categoryGraph}\n        outcome={outcomeGraph}\n      />\n      { news && <h3>News</h3> }\n      { news &&\n      <News\n        news={news}\n      /> }\n    </AnalyseContainer>);\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ...state.analyse,\n  }\n}\n\nexport default connect(mapStateToProps)(AnalysePage);","import React, { Component } from 'react';\nimport styled from 'styled-components';\n\nimport Search from './SearchPage/page';\nimport LeafletMap from './MapPage/page';\nimport Analyse from './AnalysePage/page';\n\nconst AppDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  header {\n    order: 0;\n    background: darkslateblue;\n    color: yellow;\n    line-height: 2rem;\n    height: 4rem;\n    vertical-align: middle;\n    padding: 0;\n    margin: 0;\n    text-align: center;\n    position: relative;\n\n    .title {\n      text-align: center;\n      font-size: larger;\n      font-weight: bolder;\n    }\n\n    .email {\n      text-align: right;\n      padding: 0 1rem;\n      font-size: small;\n    }\n  }\n\n  aside {\n    order: 1;\n  }\n\n  .map {\n    order: 2;\n    height: 32.5rem;\n    z-index: 0;\n\n    .leaflet-container {\n      height: 100%;\n      margin: 0.5rem;\n      border-radius: 1.5rem;\n    }\n  }\n\n  .analyse {\n    order: 3;\n    padding: 1rem;\n  }\n`;\n\nclass App extends Component {\n  render() {\n    return (\n      <AppDiv>\n        <header>\n          <div className=\"title\">\n            CRIME MAP\n          </div>\n          <div className=\"email\">\n            <span className=\"smaller\">Contact me: melancholy14@hotmail.com</span>\n          </div>\n        </header>\n        <aside>\n          <Search />\n        </aside>\n        <main className=\"map\">\n          <LeafletMap />\n        </main>\n        <main className=\"analyse\">\n          <Analyse />\n        </main>\n      </AppDiv>\n    );\n  }\n}\n\nexport default App;\n","import {\n  LOAD_AVAILABILITY_SUCCESS,\n  LOAD_AVAILABILITY_FAILURE,\n  LOAD_CRIME_CATEGORY_SUCCESS,\n  LOAD_CRIME_CATEGORY_FAILURE,\n  SEARCH_REQUEST,\n  SEARCH_SUCCESS,\n  SEARCH_FAILURE,\n} from './actions';\n\nconst initialState = {\n  availability: [],\n  crimeCategory: [],\n  message: null,\n};\n\nexport default function searchReducer(state = initialState, action) {\n  switch(action.type) {\n    case SEARCH_REQUEST:\n      return {\n        ...state,\n        ...action.params,\n      };\n    case LOAD_AVAILABILITY_SUCCESS:\n      return {\n        ...state,\n        availability: action.data,\n      };\n    case LOAD_CRIME_CATEGORY_SUCCESS:\n      return {\n        ...state,\n        crimeCategory: action.data,\n      };\n    case SEARCH_SUCCESS:\n      return {\n        ...state,\n        crimes: action.data,\n      };\n    case LOAD_AVAILABILITY_FAILURE:\n    case LOAD_CRIME_CATEGORY_FAILURE:\n    case SEARCH_FAILURE:\n      return {\n        ...state,\n        message: action.message,\n      };\n    default:\n      return state;\n  }\n}","import {\n  SAVE_LOCATION,\n  SELECT_CRIME_CATEGORY,\n} from './actions';\n\nimport {\n  SEARCH_SUCCESS,\n} from '../SearchPage/actions';\n\nconst initialState = {\n  latlng: {\n    lat: 51.505,\n    lng: -0.09,\n  },\n  selectedCrimes: [],\n  searchedCrimes: [],\n};\n\nexport default function mapReducer(state = initialState, action){\n  switch(action.type) {\n    case SAVE_LOCATION:\n      return {\n        ...state,\n        latlng: action.data,\n      };\n    case SELECT_CRIME_CATEGORY: {\n      return {\n        ...state,\n        selectedCrimes: state.searchedCrimes.filter((crime) => action.data.find((ele) => ele === crime.category)),\n      }\n    }\n    case SEARCH_SUCCESS: {\n      const values = Object.values(action.data.reduce((acc, ele) => {\n        const {\n          category,\n          location: {\n            latitude,\n            longitude,\n            street = {},\n          } = {},\n        } = ele;\n\n        if (!acc[street.id]) {\n          return {\n            ...acc,\n            [street.id]: {\n              category,\n              street,\n              count: 1,\n              opacity: 1/(action.dateLength),\n              latlng: [parseFloat(latitude), parseFloat(longitude)],\n            },\n          };\n        } else {\n          return {\n            ...acc,\n            [street.id]: {\n              ...acc[street.id],\n              count: acc[street.id].count + 1,\n              opacity: (acc[street.id].count + 1)/(action.dateLength),\n            },\n          };\n        }\n      }, {}));\n\n      return {\n        ...state, \n        selectedCrimes: [...values],\n        searchedCrimes: [...values],\n      };\n    }\n    default:\n      return state;\n  }\n}","import {\n  LOAD_GRAPHS_SUCCESS,\n  LOAD_GRAPHS_FAILURE,\n  LOAD_NEWS_SUCCESS,\n  LOAD_NEWS_FAILURE,\n} from './actions';\n\nconst initialState = {\n};\n\nexport default function analyseReducer(state = initialState, action){\n  switch(action.type){\n    case LOAD_GRAPHS_SUCCESS:\n      return {\n        ...state,\n        ...action.data,\n      };\n    case LOAD_NEWS_SUCCESS:\n      return {\n        ...state,\n        news: action.news,\n      }\n    case LOAD_NEWS_FAILURE:\n    case LOAD_GRAPHS_FAILURE:\n      return {\n        ...state,\n        message: action.message,\n      };\n    default:\n      return state;\n  }\n};","import { combineReducers } from 'redux';\n\nimport searchReducer from './SearchPage/reducer';\nimport mapReducer from './MapPage/reducer';\nimport analyseReducer from './AnalysePage/reducer';\n\nexport default combineReducers({\n  map: mapReducer,\n  search: searchReducer,\n  analyse: analyseReducer,\n});","import axios from 'axios';\n\nexport const api = {\n  police: 'https://data.police.uk/api',\n  guardian: 'https://content.guardianapis.com/search',\n  mapquest: 'http://open.mapquestapi.com/geocoding/v1',\n};\n\nexport const keys = {\n  guardian: '36ecd8a8-f9be-4d95-9643-4095fae41301',\n  mapquest: '7qAl9AvfefdHSIOkkLrVvSc466ZoHenG',\n}\n\nasync function checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else {\n    const error = new Error();\n    error.response = response;\n\n    try {\n      const body = await response.json();\n      error.body = body;\n      error.message = body.message || response.statusText;\n\n      throw error;\n    } catch (err) {\n      throw err;\n    }\n  }\n}\n\nfunction parseJSON(response){\n  if(response.status === 204 || response.status === 205){\n    return null;\n  }\n\n  return response;\n}\n\nexport function request(path, options) {\n  return axios.get(path, options)\n    .then(checkStatus)\n    .then(parseJSON);\n}","import { fork, put, takeLatest, select, all } from 'redux-saga/effects';\nimport { api, request } from '../../utils/request';\n\nimport {\n  LOAD_CRIME_CATEGORY_REQUEST,\n  SEARCH_REQUEST,\n  loadAvailabilitySuccess,\n  loadAvailabilityFailure,\n  loadCrimeCategorySuccess,\n  loadCrimeCategoryFailure,\n  searchSuccess,\n  searchFailure,\n} from './actions';\n\nfunction* loadAvailability() {\n  try {\n    const response = yield request(`${api.police}/crimes-street-dates`);\n\n    yield put(loadAvailabilitySuccess(response.data));\n  } catch(err) { \n    console.log(err);\n    yield put(loadAvailabilityFailure(err.message));\n  }\n}\n\nfunction* loadCrimeCategory({ date: _date } = {}) {\n  try {\n    const date = _date || (new Date()).toLocaleDateString();\n\n    const response = yield request(`${api.police}/crime-categories?date=${date}`);\n\n    yield put(loadCrimeCategorySuccess(response.data));\n  } catch(err) { \n    console.log(err);\n    yield put(loadCrimeCategoryFailure(err.message));\n  }\n}\n\nfunction* search({ params }) {\n  try {\n    const {\n      url,\n      dates,\n    } = params;\n\n    const { lat, lng } = yield select((state) => state.map.latlng);\n\n    if (lat && lng && dates && dates.length > 0) {\n      const responses = yield all(dates.map((date) => request(`${api.police}/crimes-street/${url}?lat=${lat}&lng=${lng}&date=${date}`)));\n\n      const data = responses && responses.reduce((acc, response) => {\n        return [...acc, ...(response && response.data)];\n      }, []);\n\n      yield put(searchSuccess(data, dates.length));\n    } else {\n      yield put(searchFailure('There is no position info! Please, click the map and tell me where you want to know'));\n    }\n  } catch(err) { \n    console.log(err);\n    yield put(searchFailure(err.message));\n  }\n}\n\nexport default function* saga() {\n  yield fork(loadAvailability);\n  yield fork(loadCrimeCategory);\n\n  yield takeLatest(LOAD_CRIME_CATEGORY_REQUEST, loadCrimeCategory);\n  yield takeLatest(SEARCH_REQUEST, search);\n}","import { takeLatest, select, put } from 'redux-saga/effects';\nimport { api, request, keys } from '../../utils/request';\n\nimport {\n  LOAD_GRAPHS_REQUEST,\n  loadGraphsSuccess,\n  loadGraphsFailure,\n  LOAD_NEWS_REQUEST,\n  loadNewsFailure,\n  loadNewsSuccess,\n} from './actions';\n\nfunction* loadGraph({ id: streetId }){\n  try {\n    const crimes = yield select((state) => state.search.crimes);\n    const selectedCrimes = crimes && crimes.filter(({ location: { street: { id } = {}, } = {}, }) => id === streetId);\n\n    const dateGraph = Object.entries(selectedCrimes.reduce((acc, ele) => ({\n      ...acc,\n      [ele.month]: acc[ele.month] >= 0 ? acc[ele.month] + 1 : 0,\n    }), {})).map(([date, count]) => ({ date, count }));\n\n    const categoryGraph = Object.entries(selectedCrimes.reduce((acc, ele) => ({\n      ...acc,\n      [ele.category]: acc[ele.category] >= 0 ? acc[ele.category] + 1 : 0,\n    }), {})).map(([category, count]) => ({ category, count }));\n\n    const outcomeGraph = Object.entries(selectedCrimes.reduce((acc, ele) => {\n      const {\n        outcome_status,\n        outcomes: {\n          category: outcome,\n        } = outcome_status || {},\n      } = ele;\n\n      if (outcome) {\n        return {\n          ...acc,\n          [outcome]: acc[outcome] >= 0 ? acc[outcome] + 1 : 0,\n        };\n      }\n      return acc;\n    }, {})).map(([outcome, count]) => ({ outcome, count }));\n\n    yield put(loadGraphsSuccess({\n      dateGraph,\n      categoryGraph,\n      outcomeGraph,\n    }));\n  } catch(err) {\n    yield put(loadGraphsFailure(err.message));\n  }\n}\n\n/*\nfunction* loadCrimeTables({ id: streetId }){\n  try {\n    const crimes = yield select((state) => state.search.crimes);\n    const selectedCrimes = crimes && crimes.filter(({ location: { street: { id } = {}, } = {}, }) => id === streetId);\n\n    console.log('selectedCrimes', selectedCrimes);\n\n    const crimeTable = selectedCrimes.map(({\n      id,\n      month,\n      category,\n      outcome_status,\n      outcomes: {\n        category: outcome,\n      } = outcome_status || {},\n    }) => ({ id, list: [['month', month], ['category', category], ['outcome', outcome]] }));\n\n    yield put(loadGraphSuccess({\n      crimeTable,\n    }));\n  } catch(err) {\n    yield put(loadGraphFailure(err.message));\n  }\n}\n*/\n\nfunction* loadNews({ latlng }) {\n  try {\n    const addressUrl = `${api.mapquest}/reverse?key=${keys.mapquest}&location=${latlng.join(',')}&includeRoadMetadata=true&includeNearestIntersection=true`;\n\n    const {\n      data: {\n        results: address = [],\n      } = {},\n    } = yield request(addressUrl);\n\n    const { locations = [] } = address[0];\n    const { street, adminArea5, postalCode } = locations[0];\n\n    const query = `${adminArea5} AND ${street ? street : postalCode}`;\n    const dates = yield select((state) => state.search.dates);\n\n    const newsUrl = `${api.guardian}?q=${query}&from-date=${dates[0]}-01&api-key=${keys.guardian}`;\n\n    const {\n      data: {\n        response: {\n          results = [],\n        },\n      } = {},\n    } = yield request(newsUrl);\n\n    results.sort((a, b) => a.webPublicationDate > b.webPublicationDate);\n\n    console.log(results);\n\n    yield put(loadNewsSuccess(results));\n  } catch (err) {\n    console.error(err);\n    yield put(loadNewsFailure(err.message));\n  }\n}\n\nexport default function* saga(){\n  yield takeLatest(LOAD_GRAPHS_REQUEST, loadGraph);\n  yield takeLatest(LOAD_NEWS_REQUEST, loadNews);\n}","import { all, fork } from 'redux-saga/effects';\n\nimport searchSaga from './SearchPage/saga';\nimport analyseSaga from './AnalysePage/saga';\n\nexport default function* sagas () {\n  yield all([\n    searchSaga,\n    analyseSaga\n  ].map(fork));\n}","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport './index.css';\n\nimport App from './containers/App';\n\nimport reducers from './containers/reducers';\nimport sagas from './containers/sagas';\n\nimport * as serviceWorker from './serviceWorker';\n\nconst saga = createSagaMiddleware();\n\nconst store = createStore(\n  reducers,\n  composeWithDevTools(applyMiddleware(saga)),\n);\n\nsaga.run(sagas);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}